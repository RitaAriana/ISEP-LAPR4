<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="742px" preserveAspectRatio="none" style="width:1471px;height:742px;background:#FFFFFF;" version="1.1" viewBox="0 0 1471 742" width="1471px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="540.2734" style="stroke:#181818;stroke-width:1.0;" width="10" x="55" y="96.2188"/><rect fill="#FFFFFF" height="221.1094" style="stroke:#181818;stroke-width:1.0;" width="10" x="507" y="118.5703"/><rect fill="#FFFFFF" height="152.4063" style="stroke:#181818;stroke-width:1.0;" width="10" x="512" y="156.9219"/><rect fill="#FFFFFF" height="257.4609" style="stroke:#181818;stroke-width:1.0;" width="10" x="507" y="370.0313"/><rect fill="#FFFFFF" height="236.1094" style="stroke:#181818;stroke-width:1.0;" width="10" x="752" y="400.3828"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="937" y="430.7344"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="937" y="516.7891"/><rect fill="#FFFFFF" height="175.4063" style="stroke:#181818;stroke-width:1.0;" width="10" x="1121" y="461.0859"/><rect fill="#FFFFFF" height="117.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="1284" y="192.2734"/><rect fill="#FFFFFF" height="78.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="1289" y="230.625"/><rect fill="#FFFFFF" height="35.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1294" y="273.9766"/><rect height="122.0547" style="stroke:#000000;stroke-width:1.5;fill:none;" width="395" x="894" y="476.0859"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="60" x2="60" y1="86.2188" y2="645.4922"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="511.5" x2="511.5" y1="86.2188" y2="645.4922"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="757" x2="757" y1="86.2188" y2="645.4922"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="942" x2="942" y1="86.2188" y2="645.4922"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="1126" x2="1126" y1="86.2188" y2="645.4922"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="1289" x2="1289" y1="86.2188" y2="645.4922"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="1418" x2="1418" y1="86.2188" y2="645.4922"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104" x="5" y="83.1426">Project Manager</text><ellipse cx="60" cy="17.1094" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M60,25.1094 L60,52.1094 M47,33.1094 L73,33.1094 M60,52.1094 L47,67.1094 M60,52.1094 L73,67.1094 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104" x="5" y="659.0254">Project Manager</text><ellipse cx="60" cy="670.6016" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M60,678.6016 L60,705.6016 M47,686.6016 L73,686.6016 M60,705.6016 L47,720.6016 M60,705.6016 L73,720.6016 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="135" x="444.5" y="36"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="67" x="478.5" y="57.5332">«daemon»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="121" x="451.5" y="75.1426">DigitalTwinDaemon</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="135" x="444.5" y="644.4922"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="67" x="478.5" y="666.0254">«daemon»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="121" x="451.5" y="683.6348">DigitalTwinDaemon</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="176" x="669" y="36"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="55" x="729.5" y="57.5332">«server»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="162" x="676" y="75.1426">DigitalTwinProtocolServer</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="176" x="669" y="644.4922"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="55" x="729.5" y="666.0254">«server»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="162" x="676" y="683.6348">DigitalTwinProtocolServer</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="76" x="904" y="36"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="62" x="911" y="57.5332">«domain»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29" x="927.5" y="75.1426">AGV</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="76" x="904" y="644.4922"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="62" x="911" y="666.0254">«domain»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29" x="927.5" y="683.6348">AGV</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="74" x="1089" y="53.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60" x="1096" y="75.1426">csThread</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="74" x="1089" y="644.4922"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60" x="1096" y="666.0254">csThread</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="136" x="1221" y="36"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="89" x="1244.5" y="57.5332">«persistence»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122" x="1228" y="75.1426">PersistenceContext</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="136" x="1221" y="644.4922"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="89" x="1244.5" y="666.0254">«persistence»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122" x="1228" y="683.6348">PersistenceContext</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="79" x="1376" y="65.5332">«repository»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97" x="1367" y="83.1426">AGVRepository</text><path d="M1400.5,15 C1400.5,5 1418.5,5 1418.5,5 C1418.5,5 1436.5,5 1436.5,15 L1436.5,41 C1436.5,51 1418.5,51 1418.5,51 C1418.5,51 1400.5,51 1400.5,41 L1400.5,15 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M1400.5,15 C1400.5,25 1418.5,25 1418.5,25 C1418.5,25 1436.5,25 1436.5,15 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="79" x="1376" y="659.0254">«repository»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97" x="1367" y="676.6348">AGVRepository</text><path d="M1400.5,689.7109 C1400.5,679.7109 1418.5,679.7109 1418.5,679.7109 C1418.5,679.7109 1436.5,679.7109 1436.5,689.7109 L1436.5,715.7109 C1436.5,725.7109 1418.5,725.7109 1418.5,725.7109 C1418.5,725.7109 1400.5,725.7109 1400.5,715.7109 L1400.5,689.7109 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M1400.5,689.7109 C1400.5,699.7109 1418.5,699.7109 1418.5,699.7109 C1418.5,699.7109 1436.5,699.7109 1436.5,689.7109 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><rect fill="#FFFFFF" height="540.2734" style="stroke:#181818;stroke-width:1.0;" width="10" x="55" y="96.2188"/><rect fill="#FFFFFF" height="221.1094" style="stroke:#181818;stroke-width:1.0;" width="10" x="507" y="118.5703"/><rect fill="#FFFFFF" height="152.4063" style="stroke:#181818;stroke-width:1.0;" width="10" x="512" y="156.9219"/><rect fill="#FFFFFF" height="257.4609" style="stroke:#181818;stroke-width:1.0;" width="10" x="507" y="370.0313"/><rect fill="#FFFFFF" height="236.1094" style="stroke:#181818;stroke-width:1.0;" width="10" x="752" y="400.3828"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="937" y="430.7344"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="937" y="516.7891"/><rect fill="#FFFFFF" height="175.4063" style="stroke:#181818;stroke-width:1.0;" width="10" x="1121" y="461.0859"/><rect fill="#FFFFFF" height="117.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="1284" y="192.2734"/><rect fill="#FFFFFF" height="78.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="1289" y="230.625"/><rect fill="#FFFFFF" height="35.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1294" y="273.9766"/><polygon fill="#181818" points="495,114.5703,505,118.5703,495,122.5703,499,118.5703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="65" x2="501" y1="118.5703" y2="118.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="72" y="113.7139">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="206" x="83" y="113.7139">start the control system of the AGV</text><line style="stroke:#181818;stroke-width:1.0;" x1="517" x2="564" y1="143.9219" y2="143.9219"/><line style="stroke:#181818;stroke-width:1.0;" x1="564" x2="564" y1="143.9219" y2="156.9219"/><line style="stroke:#181818;stroke-width:1.0;" x1="523" x2="564" y1="156.9219" y2="156.9219"/><polygon fill="#181818" points="533,152.9219,523,156.9219,533,160.9219,529,156.9219" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="529" y="139.0654">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="71" x="540" y="139.0654">selectAGV()</text><polygon fill="#181818" points="1272,188.2734,1282,192.2734,1272,196.2734,1276,192.2734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="522" x2="1278" y1="192.2734" y2="192.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="529" y="187.417">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="131" x="540" y="187.417">agvList = repositories()</text><line style="stroke:#181818;stroke-width:1.0;" x1="1294" x2="1341" y1="217.625" y2="217.625"/><line style="stroke:#181818;stroke-width:1.0;" x1="1341" x2="1341" y1="217.625" y2="230.625"/><line style="stroke:#181818;stroke-width:1.0;" x1="1300" x2="1341" y1="230.625" y2="230.625"/><polygon fill="#181818" points="1310,226.625,1300,230.625,1310,234.625,1306,230.625" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1306" y="212.7686">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="27" x="1317" y="212.7686">agv()</text><line style="stroke:#181818;stroke-width:1.0;" x1="1299" x2="1346" y1="260.9766" y2="260.9766"/><line style="stroke:#181818;stroke-width:1.0;" x1="1346" x2="1346" y1="260.9766" y2="273.9766"/><line style="stroke:#181818;stroke-width:1.0;" x1="1305" x2="1346" y1="273.9766" y2="273.9766"/><polygon fill="#181818" points="1315,269.9766,1305,273.9766,1315,277.9766,1311,273.9766" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1311" y="256.1201">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="43" x="1322" y="256.1201">findAll()</text><polygon fill="#181818" points="1406.5,305.3281,1416.5,309.3281,1406.5,313.3281,1410.5,309.3281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1289" x2="1412.5" y1="309.3281" y2="309.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1296" y="304.4717">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1307" y="304.4717"> </text><polygon fill="#181818" points="76,335.6797,66,339.6797,76,343.6797,72,339.6797" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="70" x2="511" y1="339.6797" y2="339.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="82" y="334.8232">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="396" x="93" y="334.8232">displays a list of AGV's ready to have their Control System Activated</text><polygon fill="#181818" points="495,366.0313,505,370.0313,495,374.0313,499,370.0313" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="65" x2="501" y1="370.0313" y2="370.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="72" y="365.1748">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="164" x="83" y="365.1748">selects an AGV from the list</text><polygon fill="#181818" points="740,396.3828,750,400.3828,740,404.3828,744,400.3828" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="517" x2="746" y1="400.3828" y2="400.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="524" y="395.5264">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="205" x="535" y="395.5264">create(requestMessageParser, agv)</text><polygon fill="#181818" points="925,426.7344,935,430.7344,925,434.7344,929,430.7344" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="762" x2="931" y1="430.7344" y2="430.7344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="769" y="425.8779">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="138" x="787" y="425.8779">activateControlSystem()</text><polygon fill="#181818" points="1109,457.0859,1119,461.0859,1109,465.0859,1113,461.0859" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="942" x2="1115" y1="461.0859" y2="461.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="949" y="456.2295">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="34" x="967" y="456.2295">start()</text><path d="M894,476.0859 L967,476.0859 L967,484.4375 L957,494.4375 L894,494.4375 L894,476.0859 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="122.0547" style="stroke:#000000;stroke-width:1.5;" width="395" x="894" y="476.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="909" y="490.5811">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="260" x="982" y="489.5049">[until the Control System thread is interrupted]</text><polygon fill="#181818" points="958,512.7891,948,516.7891,958,520.7891,954,516.7891" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="952" x2="1120" y1="516.7891" y2="516.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="964" y="511.9326">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137" x="982" y="511.9326">taskList = getAgvTask()</text><line style="stroke:#181818;stroke-width:1.0;" x1="1131" x2="1173" y1="577.1406" y2="577.1406"/><line style="stroke:#181818;stroke-width:1.0;" x1="1173" x2="1173" y1="577.1406" y2="590.1406"/><line style="stroke:#181818;stroke-width:1.0;" x1="1132" x2="1173" y1="590.1406" y2="590.1406"/><polygon fill="#181818" points="1142,586.1406,1132,590.1406,1142,594.1406,1138,590.1406" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1138" y="572.2842">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121" x="1156" y="572.2842">taskService(taskList)</text><polygon fill="#181818" points="76,623.4922,66,627.4922,76,631.4922,72,627.4922" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="70" x2="511" y1="627.4922" y2="627.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="82" y="622.6357">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="400" x="100" y="622.6357">displays a graphic representation of the AGV moving on the database</text><!--MD5=[35894d69d793ce665f7959800d5db75f]
@startuml

autonumber
actor "Project Manager" as PM
participant DigitalTwinDaemon as daemon <<daemon>>
participant DigitalTwinProtocolServer as server <<server>>
participant AGV as agv <<domain>>
participant "csThread" as cs
participant PersistenceContext as persistence <<persistence>>
database AGVRepository as repository <<repository>>


activate PM

PM -> daemon : start the control system of the AGV
activate daemon

daemon -> daemon ++: selectAGV()


daemon -> persistence : agvList = repositories()
activate persistence

persistence -> persistence ++: agv()

persistence -> persistence ++: findAll()

persistence -> repository
deactivate persistence

deactivate persistence

deactivate persistence

deactivate daemon
daemon - -> PM : displays a list of AGV's ready to have their Control System Activated
deactivate daemon

PM -> daemon : selects an AGV from the list
activate daemon

daemon -> server : create(requestMessageParser, agv)
activate server

server -> agv : activateControlSystem()
activate agv

agv -> cs : start()
deactivate agv

activate cs

loop until the Control System thread is interrupted
cs -> agv : taskList = getAgvTask()
activate agv
deactivate agv

cs -> cs : taskService(taskList)
end



daemon - -> PM : displays a graphic representation of the AGV moving on the database

deactivate daemon

@enduml

PlantUML version 1.2022.5(Sat Apr 30 11:55:52 BST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>