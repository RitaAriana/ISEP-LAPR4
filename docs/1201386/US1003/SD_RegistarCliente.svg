<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1258px" preserveAspectRatio="none" style="width:1799px;height:1258px;background:#FFFFFF;" version="1.1" viewBox="0 0 1799 1258" width="1799px" zoomAndPan="magnify"><defs><filter height="300%" id="f1k3rezbm8clbq" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1k3rezbm8clbq)" height="1051.6484" style="stroke:#A80036;stroke-width:1.0;" width="10" x="64" y="99.6094"/><rect fill="#FFFFFF" filter="url(#f1k3rezbm8clbq)" height="77.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="464" y="121.9609"/><rect fill="#FFFFFF" filter="url(#f1k3rezbm8clbq)" height="93.7266" style="stroke:#A80036;stroke-width:1.0;" width="10" x="464" y="229.3672"/><rect fill="#FFFFFF" filter="url(#f1k3rezbm8clbq)" height="82.375" style="stroke:#A80036;stroke-width:1.0;" width="10" x="464" y="353.4453"/><rect fill="#FFFFFF" filter="url(#f1k3rezbm8clbq)" height="62.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="464" y="466.1719"/><rect fill="#FFFFFF" filter="url(#f1k3rezbm8clbq)" height="592.0313" style="stroke:#A80036;stroke-width:1.0;" width="10" x="464" y="559.2266"/><rect fill="#FFFFFF" filter="url(#f1k3rezbm8clbq)" height="491.625" style="stroke:#A80036;stroke-width:1.0;" width="10" x="847" y="612.9297"/><rect fill="#FFFFFF" filter="url(#f1k3rezbm8clbq)" height="107.4063" style="stroke:#A80036;stroke-width:1.0;" width="10" x="990.5" y="713.9844"/><rect fill="#FFFFFF" filter="url(#f1k3rezbm8clbq)" height="101.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1459" y="851.7422"/><rect fill="#FFFFFF" filter="url(#f1k3rezbm8clbq)" height="60.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1606" y="983.1484"/><rect fill="#FFFFFF" filter="url(#f1k3rezbm8clbq)" height="124.0781" style="stroke:#000000;stroke-width:2.0;" width="538.5" x="10" y="244.3672"/><rect fill="#FFFFFF" filter="url(#f1k3rezbm8clbq)" height="91.7266" style="stroke:#000000;stroke-width:2.0;" width="518.5" x="20" y="269.7188"/><rect fill="#FFFFFF" filter="url(#f1k3rezbm8clbq)" height="91.7266" style="stroke:#000000;stroke-width:2.0;" width="518.5" x="20" y="382.4453"/><rect fill="#FFFFFF" filter="url(#f1k3rezbm8clbq)" height="79.0547" style="stroke:#000000;stroke-width:2.0;" width="518.5" x="20" y="488.1719"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="69" x2="69" y1="89.6094" y2="1169.2578"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="468.5" x2="468.5" y1="89.6094" y2="1169.2578"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="851.5" x2="851.5" y1="89.6094" y2="1169.2578"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="995.5" x2="995.5" y1="89.6094" y2="1169.2578"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1338" x2="1338" y1="89.6094" y2="1169.2578"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1464" x2="1464" y1="89.6094" y2="1169.2578"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1611" x2="1611" y1="89.6094" y2="1169.2578"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1743" x2="1743" y1="89.6094" y2="1169.2578"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72" x="30" y="86.5332">Sales Clerk</text><ellipse cx="69" cy="15" fill="#FEFECE" filter="url(#f1k3rezbm8clbq)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M69,23 L69,50 M56,31 L82,31 M69,50 L56,65 M69,50 L82,65 " fill="none" filter="url(#f1k3rezbm8clbq)" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72" x="30" y="1182.791">Sales Clerk</text><ellipse cx="69" cy="1195.8672" fill="#FEFECE" filter="url(#f1k3rezbm8clbq)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M69,1203.8672 L69,1230.8672 M56,1211.8672 L82,1211.8672 M69,1230.8672 L56,1245.8672 M69,1230.8672 L82,1245.8672 " fill="none" filter="url(#f1k3rezbm8clbq)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#f1k3rezbm8clbq)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="115" x="409.5" y="35.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="95" x="419.5" y="56.9238">«presentation»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="416.5" y="74.5332">RegisterClientUI</text><rect fill="#FEFECE" filter="url(#f1k3rezbm8clbq)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="115" x="409.5" y="1168.2578"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="95" x="419.5" y="1189.791">«presentation»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="416.5" y="1207.4004">RegisterClientUI</text><rect fill="#FEFECE" filter="url(#f1k3rezbm8clbq)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="165" x="767.5" y="35.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="84" x="808" y="56.9238">«application»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="151" x="774.5" y="74.5332">RegisterClientController</text><rect fill="#FEFECE" filter="url(#f1k3rezbm8clbq)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="165" x="767.5" y="1168.2578"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="84" x="808" y="1189.791">«application»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="151" x="774.5" y="1207.4004">RegisterClientController</text><rect fill="#FEFECE" filter="url(#f1k3rezbm8clbq)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="94" x="946.5" y="35.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="59" x="964" y="56.9238">«builder»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80" x="953.5" y="74.5332">ClientBuilder</text><rect fill="#FEFECE" filter="url(#f1k3rezbm8clbq)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="94" x="946.5" y="1168.2578"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="59" x="964" y="1189.791">«builder»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80" x="953.5" y="1207.4004">ClientBuilder</text><rect fill="#FEFECE" filter="url(#f1k3rezbm8clbq)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="87" x="1293" y="35.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="62" x="1305.5" y="56.9238">«domain»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73" x="1300" y="74.5332">client:Client</text><rect fill="#FEFECE" filter="url(#f1k3rezbm8clbq)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="87" x="1293" y="1168.2578"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="62" x="1305.5" y="1189.791">«domain»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73" x="1300" y="1207.4004">client:Client</text><rect fill="#FEFECE" filter="url(#f1k3rezbm8clbq)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="136" x="1394" y="35.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="89" x="1417.5" y="56.9238">«persistence»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122" x="1401" y="74.5332">PersistenceContext</text><rect fill="#FEFECE" filter="url(#f1k3rezbm8clbq)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="136" x="1394" y="1168.2578"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="89" x="1417.5" y="1189.791">«persistence»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122" x="1401" y="1207.4004">PersistenceContext</text><rect fill="#FEFECE" filter="url(#f1k3rezbm8clbq)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="130" x="1544" y="35.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="59" x="1579.5" y="56.9238">«factory»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116" x="1551" y="74.5332">RepositoryFactory</text><rect fill="#FEFECE" filter="url(#f1k3rezbm8clbq)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="130" x="1544" y="1168.2578"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="59" x="1579.5" y="1189.791">«factory»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116" x="1551" y="1207.4004">RepositoryFactory</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="79" x="1700.5" y="68.9238">«repository»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104" x="1688" y="86.5332">ClientRepository</text><path d="M1725,18.3906 C1725,8.3906 1743,8.3906 1743,8.3906 C1743,8.3906 1761,8.3906 1761,18.3906 L1761,44.3906 C1761,54.3906 1743,54.3906 1743,54.3906 C1743,54.3906 1725,54.3906 1725,44.3906 L1725,18.3906 " fill="#FEFECE" filter="url(#f1k3rezbm8clbq)" style="stroke:#000000;stroke-width:1.5;"/><path d="M1725,18.3906 C1725,28.3906 1743,28.3906 1743,28.3906 C1743,28.3906 1761,28.3906 1761,18.3906 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="79" x="1700.5" y="1182.791">«repository»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104" x="1688" y="1200.4004">ClientRepository</text><path d="M1725,1213.4766 C1725,1203.4766 1743,1203.4766 1743,1203.4766 C1743,1203.4766 1761,1203.4766 1761,1213.4766 L1761,1239.4766 C1761,1249.4766 1743,1249.4766 1743,1249.4766 C1743,1249.4766 1725,1249.4766 1725,1239.4766 L1725,1213.4766 " fill="#FEFECE" filter="url(#f1k3rezbm8clbq)" style="stroke:#000000;stroke-width:1.5;"/><path d="M1725,1213.4766 C1725,1223.4766 1743,1223.4766 1743,1223.4766 C1743,1223.4766 1761,1223.4766 1761,1213.4766 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><rect fill="#FFFFFF" filter="url(#f1k3rezbm8clbq)" height="1051.6484" style="stroke:#A80036;stroke-width:1.0;" width="10" x="64" y="99.6094"/><rect fill="#FFFFFF" filter="url(#f1k3rezbm8clbq)" height="77.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="464" y="121.9609"/><rect fill="#FFFFFF" filter="url(#f1k3rezbm8clbq)" height="93.7266" style="stroke:#A80036;stroke-width:1.0;" width="10" x="464" y="229.3672"/><rect fill="#FFFFFF" filter="url(#f1k3rezbm8clbq)" height="82.375" style="stroke:#A80036;stroke-width:1.0;" width="10" x="464" y="353.4453"/><rect fill="#FFFFFF" filter="url(#f1k3rezbm8clbq)" height="62.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="464" y="466.1719"/><rect fill="#FFFFFF" filter="url(#f1k3rezbm8clbq)" height="592.0313" style="stroke:#A80036;stroke-width:1.0;" width="10" x="464" y="559.2266"/><rect fill="#FFFFFF" filter="url(#f1k3rezbm8clbq)" height="491.625" style="stroke:#A80036;stroke-width:1.0;" width="10" x="847" y="612.9297"/><rect fill="#FFFFFF" filter="url(#f1k3rezbm8clbq)" height="107.4063" style="stroke:#A80036;stroke-width:1.0;" width="10" x="990.5" y="713.9844"/><rect fill="#FFFFFF" filter="url(#f1k3rezbm8clbq)" height="101.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1459" y="851.7422"/><rect fill="#FFFFFF" filter="url(#f1k3rezbm8clbq)" height="60.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1606" y="983.1484"/><polygon fill="#A80036" points="452,117.9609,462,121.9609,452,125.9609,456,121.9609" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="74" x2="458" y1="121.9609" y2="121.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="81" y="117.1045">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="219" x="92" y="117.1045">Inicia o processo de registo do cliente</text><polygon fill="#A80036" points="840,148.3125,850,152.3125,840,156.3125,844,152.3125" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="474" x2="846" y1="152.3125" y2="152.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="481" y="147.4561">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="36" x="492" y="147.4561">create</text><polygon fill="#A80036" points="85,195.0156,75,199.0156,85,203.0156,81,199.0156" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="79" x2="468" y1="199.0156" y2="199.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="91" y="185.9834">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="351" x="102" y="177.8076">Solicita os dados obrigatórios (firstNames, surnames, Email,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="216" x="102" y="194.1592">PhoneNumber, VAT, Postal Address)</text><polygon fill="#A80036" points="452,225.3672,462,229.3672,452,233.3672,456,229.3672" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="74" x2="458" y1="229.3672" y2="229.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="81" y="224.5107">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="169" x="92" y="224.5107">Introduz os dados solicitados</text><path d="M10,244.3672 L71,244.3672 L71,252.3672 L61,262.3672 L10,262.3672 L10,244.3672 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="124.0781" style="stroke:#000000;stroke-width:2.0;" width="538.5" x="10" y="244.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="25" y="258.8623">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="254" x="86" y="257.7861">[Sales Clerk deseja associar mais endereços]</text><path d="M20,269.7188 L93,269.7188 L93,277.7188 L83,287.7188 L20,287.7188 L20,269.7188 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="91.7266" style="stroke:#000000;stroke-width:2.0;" width="518.5" x="20" y="269.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="35" y="284.2139">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="220" x="108" y="283.1377">[Enquanto o Sales Clerk quiser associar</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="94" x="108" y="296.9736">mais endereços]</text><polygon fill="#A80036" points="85,319.0938,75,323.0938,85,327.0938,81,323.0938" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="79" x2="468" y1="323.0938" y2="323.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="91" y="318.2373">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="111" x="102" y="318.2373">Solicita o endereço</text><polygon fill="#A80036" points="452,349.4453,462,353.4453,452,357.4453,456,353.4453" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="74" x2="458" y1="353.4453" y2="353.4453"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="81" y="348.5889">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="92" y="348.5889">Introduz o endereço</text><path d="M20,382.4453 L81,382.4453 L81,390.4453 L71,400.4453 L20,400.4453 L20,382.4453 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="91.7266" style="stroke:#000000;stroke-width:2.0;" width="518.5" x="20" y="382.4453"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="35" y="396.9404">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="166" x="96" y="395.8643">[Sales Clerk deseja associar a</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="169" x="96" y="409.7002">data de nascimento do cliente]</text><polygon fill="#A80036" points="85,431.8203,75,435.8203,85,439.8203,81,435.8203" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="79" x2="468" y1="435.8203" y2="435.8203"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="91" y="430.9639">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="172" x="102" y="430.9639">Solicita a data de nascimento</text><polygon fill="#A80036" points="452,462.1719,462,466.1719,452,470.1719,456,466.1719" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="74" x2="458" y1="466.1719" y2="466.1719"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="81" y="461.3154">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="164" x="92" y="461.3154">introduz data de nascimento</text><path d="M20,488.1719 L81,488.1719 L81,496.1719 L71,506.1719 L20,506.1719 L20,488.1719 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="79.0547" style="stroke:#000000;stroke-width:2.0;" width="518.5" x="20" y="488.1719"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="35" y="502.667">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="258" x="96" y="501.5908">[Sales Clerk deseja associar o sexo do cliente]</text><polygon fill="#A80036" points="85,524.875,75,528.875,85,532.875,81,528.875" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="79" x2="468" y1="528.875" y2="528.875"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="91" y="524.0186">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86" x="102" y="524.0186">Solicita o sexo</text><polygon fill="#A80036" points="452,555.2266,462,559.2266,452,563.2266,456,559.2266" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="74" x2="458" y1="559.2266" y2="559.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="81" y="554.3701">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="89" x="99" y="554.3701">Introduz o sexo</text><polygon fill="#A80036" points="835,608.9297,845,612.9297,835,616.9297,839,612.9297" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="474" x2="841" y1="612.9297" y2="612.9297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="481" y="599.8975">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="336" x="499" y="591.7217">registerClient(firstnames, surnames, email, phoneNumber,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="218" x="499" y="608.0732">vat, postalAddress, birthDate, gender)</text><path d="M1000,625.9297 L1000,651.9297 L1472,651.9297 L1472,635.9297 L1462,625.9297 L1000,625.9297 " fill="#FBFB77" filter="url(#f1k3rezbm8clbq)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1462,625.9297 L1462,635.9297 L1472,635.9297 L1462,625.9297 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="451" x="1006" y="644.4248">ClientBuilder é usado para criar uma entidade do tipo Client num estado válido</text><polygon fill="#A80036" points="983.5,679.6328,993.5,683.6328,983.5,687.6328,987.5,683.6328" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="857" x2="989.5" y1="683.6328" y2="683.6328"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="864" y="678.7764">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="36" x="882" y="678.7764">create</text><polygon fill="#A80036" points="978.5,709.9844,988.5,713.9844,978.5,717.9844,982.5,713.9844" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="857" x2="984.5" y1="713.9844" y2="713.9844"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="864" y="709.1279">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77" x="882" y="709.1279">createClient()</text><polygon fill="#A80036" points="1326.5,756.6875,1336.5,760.6875,1326.5,764.6875,1330.5,760.6875" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1000.5" x2="1332.5" y1="760.6875" y2="760.6875"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1007.5" y="747.6553">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="296" x="1025.5" y="739.4795">create(firstnames, surnames, email, phoneNumber,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="218" x="1025.5" y="755.8311">vat, postalAddress, birthDate, gender)</text><polygon fill="#A80036" points="1011.5,787.0391,1001.5,791.0391,1011.5,795.0391,1007.5,791.0391" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1005.5" x2="1337.5" y1="791.0391" y2="791.0391"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1017.5" y="786.1826">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31" x="1035.5" y="786.1826">client</text><polygon fill="#A80036" points="868,817.3906,858,821.3906,868,825.3906,864,821.3906" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="862" x2="994.5" y1="821.3906" y2="821.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="874" y="816.5342">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31" x="892" y="816.5342">client</text><polygon fill="#A80036" points="1447,847.7422,1457,851.7422,1447,855.7422,1451,851.7422" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="857" x2="1453" y1="851.7422" y2="851.7422"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="864" y="846.8857">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75" x="882" y="846.8857">repositories()</text><path d="M1474,864.7422 L1474,890.7422 L1738,890.7422 L1738,874.7422 L1728,864.7422 L1474,864.7422 " fill="#FBFB77" filter="url(#f1k3rezbm8clbq)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1728,864.7422 L1728,874.7422 L1738,874.7422 L1728,864.7422 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="243" x="1480" y="883.2373">pode criar repositório em memória ou JPA</text><polygon fill="#A80036" points="1599,918.4453,1609,922.4453,1599,926.4453,1603,922.4453" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1469" x2="1605" y1="922.4453" y2="922.4453"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1476" y="917.5889">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="36" x="1494" y="917.5889">create</text><polygon fill="#A80036" points="868,948.7969,858,952.7969,868,956.7969,864,952.7969" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="862" x2="1463" y1="952.7969" y2="952.7969"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="874" y="947.9404">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="39" x="892" y="947.9404">factory</text><polygon fill="#A80036" points="1594,979.1484,1604,983.1484,1594,987.1484,1598,983.1484" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="857" x2="1600" y1="983.1484" y2="983.1484"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="864" y="978.292">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="46" x="882" y="978.292">clients()</text><polygon fill="#A80036" points="1731,1009.5,1741,1013.5,1731,1017.5,1735,1013.5" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1616" x2="1737" y1="1013.5" y2="1013.5"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1623" y="1008.6436">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="36" x="1641" y="1008.6436">create</text><polygon fill="#A80036" points="868,1039.8516,858,1043.8516,868,1047.8516,864,1043.8516" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="862" x2="1610" y1="1043.8516" y2="1043.8516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="874" y="1038.9951">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="892" y="1038.9951">clientRepository</text><polygon fill="#A80036" points="1731,1070.2031,1741,1074.2031,1731,1078.2031,1735,1074.2031" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="857" x2="1737" y1="1074.2031" y2="1074.2031"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="864" y="1069.3467">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65" x="882" y="1069.3467">save(client)</text><polygon fill="#A80036" points="485,1100.5547,475,1104.5547,485,1108.5547,481,1104.5547" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="479" x2="851" y1="1104.5547" y2="1104.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="491" y="1099.6982">24</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="25" x="509" y="1099.6982">user</text><polygon fill="#A80036" points="80,1147.2578,70,1151.2578,80,1155.2578,76,1151.2578" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="74" x2="468" y1="1151.2578" y2="1151.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="86" y="1138.2256">25</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="192" x="104" y="1130.0498">Informa o sucesso da operação e</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="178" x="104" y="1146.4014">mostra a informação do cliente</text><!--MD5=[0667794d7dd55d4789ab063b6107edbb]
@startuml

autonumber
actor "Sales Clerk" as SC
participant RegisterClientUI as UI <<presentation>>
participant RegisterClientController as Controller <<application>>
participant ClientBuilder as Builder <<builder>>
participant "client:Client" as Domain <<domain>>
participant PersistenceContext as Persistence <<persistence>>
participant RepositoryFactory as Factory <<factory>>
database ClientRepository as Repository <<repository>>

activate SC
SC -> UI : Inicia o processo de registo do cliente
activate UI
UI -> Controller: create
UI - -> SC : Solicita os dados obrigatórios (firstNames, surnames, Email, \nPhoneNumber, VAT, Postal Address)
deactivate UI
SC -> UI : Introduz os dados solicitados
activate UI



alt Sales Clerk deseja associar mais endereços
loop Enquanto o Sales Clerk quiser associar \nmais endereços
UI - -> SC : Solicita o endereço
deactivate UI


SC -> UI : Introduz o endereço
activate UI
end
end
alt Sales Clerk deseja associar a \ndata de nascimento do cliente
activate UI
UI - -> SC : Solicita a data de nascimento
deactivate UI
SC -> UI : introduz data de nascimento
activate UI
end
alt Sales Clerk deseja associar o sexo do cliente
UI - -> SC : Solicita o sexo
deactivate UI
SC -> UI : Introduz o sexo
activate UI
end
UI -> Controller: registerClient(firstnames, surnames, email, phoneNumber,\nvat, postalAddress, birthDate, gender)
activate Controller
note right of Builder:ClientBuilder é usado para criar uma entidade do tipo Client num estado válido
Controller -> Builder: create
Controller -> Builder:createClient()
activate Builder
Builder -> Domain: create(firstnames, surnames, email, phoneNumber,\nvat, postalAddress, birthDate, gender)
Domain->Builder: client
Builder -> Controller:client
deactivate Builder
Controller -> Persistence: repositories()
activate Persistence
note right of Persistence: pode criar repositório em memória ou JPA
Persistence -> Factory: create
Persistence -> Controller: factory
deactivate Persistence
Controller -> Factory: clients()
activate Factory
Factory -> Repository: create
Factory -> Controller: clientRepository
deactivate Factory
Controller->Repository:save(client)
Controller->UI: user
deactivate Controller
UI - -> SC : Informa o sucesso da operação e \nmostra a informação do cliente
deactivate UI
deactivate SC



@enduml

PlantUML version 1.2022.1(Tue Feb 01 18:19:58 GMT 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: Dynamic Code Evolution 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>