<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="856px" preserveAspectRatio="none" style="width:834px;height:856px;background:#FFFFFF;" version="1.1" viewBox="0 0 834 856" width="834.8px" zoomAndPan="magnify"><defs><filter height="300%" id="fidy3py8qhv2r" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="0.8000000000000002"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="1.6000000000000003" dy="1.6000000000000003" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#fidy3py8qhv2r)" height="773.4281" style="stroke:#A80036;stroke-width:0.4000000000000001;" width="4" x="25.6" y="39.8438"/><rect fill="#FFFFFF" filter="url(#fidy3py8qhv2r)" height="30.8219" style="stroke:#A80036;stroke-width:0.4000000000000001;" width="4" x="151.2" y="55.325"/><rect fill="#FFFFFF" filter="url(#fidy3py8qhv2r)" height="78.9719" style="stroke:#A80036;stroke-width:0.4000000000000001;" width="4" x="151.2" y="98.2875"/><rect fill="#FFFFFF" filter="url(#fidy3py8qhv2r)" height="12.1406" style="stroke:#A80036;stroke-width:0.4000000000000001;" width="4" x="151.2" y="189.4"/><rect fill="#FFFFFF" filter="url(#fidy3py8qhv2r)" height="12" style="stroke:#A80036;stroke-width:0.4000000000000001;" width="4" x="151.2" y="213.6813"/><rect fill="#FFFFFF" filter="url(#fidy3py8qhv2r)" height="48.4219" style="stroke:#A80036;stroke-width:0.4000000000000001;" width="4" x="151.2" y="274.3063"/><rect fill="#FFFFFF" filter="url(#fidy3py8qhv2r)" height="17.7406" style="stroke:#A80036;stroke-width:0.4000000000000001;" width="4" x="151.2" y="334.8688"/><rect fill="#FFFFFF" filter="url(#fidy3py8qhv2r)" height="102.8438" style="stroke:#A80036;stroke-width:0.4000000000000001;" width="4" x="151.2" y="364.75"/><rect fill="#FFFFFF" filter="url(#fidy3py8qhv2r)" height="12.1406" style="stroke:#A80036;stroke-width:0.4000000000000001;" width="4" x="151.2" y="479.7344"/><rect fill="#FFFFFF" filter="url(#fidy3py8qhv2r)" height="12.1406" style="stroke:#A80036;stroke-width:0.4000000000000001;" width="4" x="151.2" y="504.0156"/><rect fill="#FFFFFF" filter="url(#fidy3py8qhv2r)" height="12.1406" style="stroke:#A80036;stroke-width:0.4000000000000001;" width="4" x="151.2" y="528.2969"/><rect fill="#FFFFFF" filter="url(#fidy3py8qhv2r)" height="12.1406" style="stroke:#A80036;stroke-width:0.4000000000000001;" width="4" x="151.2" y="552.5781"/><rect fill="#FFFFFF" filter="url(#fidy3py8qhv2r)" height="12.1406" style="stroke:#A80036;stroke-width:0.4000000000000001;" width="4" x="151.2" y="576.8594"/><rect fill="#FFFFFF" filter="url(#fidy3py8qhv2r)" height="22.2813" style="stroke:#A80036;stroke-width:0.4000000000000001;" width="4" x="151.2" y="601.1406"/><rect fill="#FFFFFF" filter="url(#fidy3py8qhv2r)" height="177.7094" style="stroke:#A80036;stroke-width:0.4000000000000001;" width="4" x="151.2" y="635.5625"/><rect fill="#FFFFFF" filter="url(#fidy3py8qhv2r)" height="24.1406" style="stroke:#A80036;stroke-width:0.4000000000000001;" width="4" x="310.8" y="286.4469"/><rect fill="#FFFFFF" filter="url(#fidy3py8qhv2r)" height="24.1406" style="stroke:#A80036;stroke-width:0.4000000000000001;" width="4" x="310.8" y="376.8906"/><rect fill="#FFFFFF" filter="url(#fidy3py8qhv2r)" height="144.0875" style="stroke:#A80036;stroke-width:0.4000000000000001;" width="4" x="310.8" y="657.0438"/><rect fill="#FFFFFF" filter="url(#fidy3py8qhv2r)" height="26.5406" style="stroke:#A80036;stroke-width:0.4000000000000001;" width="4" x="387.4" y="135.7781"/><rect fill="#FFFFFF" filter="url(#fidy3py8qhv2r)" height="11.2" style="stroke:#A80036;stroke-width:0.4000000000000001;" width="4" x="389.4" y="151.1188"/><rect fill="#FFFFFF" filter="url(#fidy3py8qhv2r)" height="12" style="stroke:#A80036;stroke-width:0.4000000000000001;" width="4" x="447.4" y="298.5875"/><rect fill="#FFFFFF" filter="url(#fidy3py8qhv2r)" height="12" style="stroke:#A80036;stroke-width:0.4000000000000001;" width="4" x="498" y="389.0313"/><rect fill="#FFFFFF" filter="url(#fidy3py8qhv2r)" height="26.5406" style="stroke:#A80036;stroke-width:0.4000000000000001;" width="4" x="547.8" y="423.3125"/><rect fill="#FFFFFF" filter="url(#fidy3py8qhv2r)" height="11.2" style="stroke:#A80036;stroke-width:0.4000000000000001;" width="4" x="549.8" y="438.6531"/><rect fill="#FFFFFF" filter="url(#fidy3py8qhv2r)" height="12.1406" style="stroke:#A80036;stroke-width:0.4000000000000001;" width="4" x="611.2" y="675.725"/><rect fill="#FFFFFF" filter="url(#fidy3py8qhv2r)" height="40.4219" style="stroke:#A80036;stroke-width:0.4000000000000001;" width="4" x="678.8" y="700.0063"/><rect fill="#FFFFFF" filter="url(#fidy3py8qhv2r)" height="24.2813" style="stroke:#A80036;stroke-width:0.4000000000000001;" width="4" x="737.6" y="752.5688"/><rect fill="#FFFFFF" filter="url(#fidy3py8qhv2r)" height="236.5813" style="stroke:#000000;stroke-width:0.8000000000000002;" width="478" x="4" y="104.2875"/><rect fill="#FFFFFF" filter="url(#fidy3py8qhv2r)" height="114.4531" style="stroke:#000000;stroke-width:0.8000000000000002;" width="419" x="8" y="114.4281"/><rect fill="#FFFFFF" height="109.1875" style="stroke:none;stroke-width:0.4000000000000001;" width="478" x="4" y="231.6813"/><rect fill="#FFFFFF" filter="url(#fidy3py8qhv2r)" height="97.2531" style="stroke:#000000;stroke-width:0.8000000000000002;" width="470" x="8" y="240.8156"/><rect fill="#FFFFFF" filter="url(#fidy3py8qhv2r)" height="48.8219" style="stroke:#000000;stroke-width:0.8000000000000002;" width="472.2" x="118" y="407.0313"/><rect fill="#FFFFFF" filter="url(#fidy3py8qhv2r)" height="31.6219" style="stroke:#000000;stroke-width:0.8000000000000002;" width="180.4" x="8" y="607.1406"/><line style="stroke:#A80036;stroke-width:0.4000000000000001;stroke-dasharray:5.0,5.0;" x1="27.6" x2="27.6" y1="35.8438" y2="820.4719"/><line style="stroke:#A80036;stroke-width:0.4000000000000001;stroke-dasharray:5.0,5.0;" x1="153.2" x2="153.2" y1="35.8438" y2="820.4719"/><line style="stroke:#A80036;stroke-width:0.4000000000000001;stroke-dasharray:5.0,5.0;" x1="312.8" x2="312.8" y1="35.8438" y2="820.4719"/><line style="stroke:#A80036;stroke-width:0.4000000000000001;stroke-dasharray:5.0,5.0;" x1="389.2" x2="389.2" y1="35.8438" y2="820.4719"/><line style="stroke:#A80036;stroke-width:0.4000000000000001;stroke-dasharray:5.0,5.0;" x1="449.2" x2="449.2" y1="35.8438" y2="820.4719"/><line style="stroke:#A80036;stroke-width:0.4000000000000001;stroke-dasharray:5.0,5.0;" x1="500" x2="500" y1="35.8438" y2="820.4719"/><line style="stroke:#A80036;stroke-width:0.4000000000000001;stroke-dasharray:5.0,5.0;" x1="549.6" x2="549.6" y1="35.8438" y2="820.4719"/><line style="stroke:#A80036;stroke-width:0.4000000000000001;stroke-dasharray:5.0,5.0;" x1="613.2" x2="613.2" y1="35.8438" y2="820.4719"/><line style="stroke:#A80036;stroke-width:0.4000000000000001;stroke-dasharray:5.0,5.0;" x1="680.8" x2="680.8" y1="35.8438" y2="820.4719"/><line style="stroke:#A80036;stroke-width:0.4000000000000001;stroke-dasharray:5.0,5.0;" x1="739.6" x2="739.6" y1="35.8438" y2="820.4719"/><line style="stroke:#A80036;stroke-width:0.4000000000000001;stroke-dasharray:5.0,5.0;" x1="802.4" x2="802.4" y1="35.8438" y2="820.4719"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="28.8" x="12" y="34.6133">Sales Clerk</text><ellipse cx="27.6" cy="6" fill="#FEFECE" filter="url(#fidy3py8qhv2r)" rx="3.2" ry="3.2" style="stroke:#A80036;stroke-width:0.8000000000000002;"/><path d="M27.6,9.2 L27.6,20 M22.4,12.4 L32.8,12.4 M27.6,20 L22.4,26 M27.6,20 L32.8,26 " fill="none" filter="url(#fidy3py8qhv2r)" style="stroke:#A80036;stroke-width:0.8000000000000002;"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="28.8" x="12" y="825.8852">Sales Clerk</text><ellipse cx="27.6" cy="831.1156" fill="#FEFECE" filter="url(#fidy3py8qhv2r)" rx="3.2" ry="3.2" style="stroke:#A80036;stroke-width:0.8000000000000002;"/><path d="M27.6,834.3156 L27.6,845.1156 M22.4,837.5156 L32.8,837.5156 M27.6,845.1156 L22.4,851.1156 M27.6,845.1156 L32.8,851.1156 " fill="none" filter="url(#fidy3py8qhv2r)" style="stroke:#A80036;stroke-width:0.8000000000000002;"/><rect fill="#FEFECE" filter="url(#fidy3py8qhv2r)" height="19.6875" style="stroke:#A80036;stroke-width:0.6000000000000001;" width="60.8" x="122" y="14.1563"/><text fill="#000000" font-family="sans-serif" font-size="5.6" font-style="italic" lengthAdjust="spacing" textLength="38" x="133.4" y="22.7695">«presentation»</text><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="55.2" x="124.8" y="29.8133">RegisterClientOrderUI</text><rect fill="#FEFECE" filter="url(#fidy3py8qhv2r)" height="19.6875" style="stroke:#A80036;stroke-width:0.6000000000000001;" width="60.8" x="122" y="820.0719"/><text fill="#000000" font-family="sans-serif" font-size="5.6" font-style="italic" lengthAdjust="spacing" textLength="38" x="133.4" y="828.6852">«presentation»</text><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="55.2" x="124.8" y="835.7289">RegisterClientOrderUI</text><rect fill="#FEFECE" filter="url(#fidy3py8qhv2r)" height="19.6875" style="stroke:#A80036;stroke-width:0.6000000000000001;" width="80.8" x="271.6" y="14.1563"/><text fill="#000000" font-family="sans-serif" font-size="5.6" font-style="italic" lengthAdjust="spacing" textLength="33.6" x="295.2" y="22.7695">«application»</text><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="75.2" x="274.4" y="29.8133">RegisterClientOrderController</text><rect fill="#FEFECE" filter="url(#fidy3py8qhv2r)" height="19.6875" style="stroke:#A80036;stroke-width:0.6000000000000001;" width="80.8" x="271.6" y="820.0719"/><text fill="#000000" font-family="sans-serif" font-size="5.6" font-style="italic" lengthAdjust="spacing" textLength="33.6" x="295.2" y="828.6852">«application»</text><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="75.2" x="274.4" y="835.7289">RegisterClientOrderController</text><rect fill="#FEFECE" filter="url(#fidy3py8qhv2r)" height="19.6875" style="stroke:#A80036;stroke-width:0.6000000000000001;" width="61.2" x="358" y="14.1563"/><text fill="#000000" font-family="sans-serif" font-size="5.6" font-style="italic" lengthAdjust="spacing" textLength="38" x="369.6" y="22.7695">«presentation»</text><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="55.6" x="360.8" y="29.8133">ViewProductCatalogUI</text><rect fill="#FEFECE" filter="url(#fidy3py8qhv2r)" height="19.6875" style="stroke:#A80036;stroke-width:0.6000000000000001;" width="61.2" x="358" y="820.0719"/><text fill="#000000" font-family="sans-serif" font-size="5.6" font-style="italic" lengthAdjust="spacing" textLength="38" x="369.6" y="828.6852">«presentation»</text><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="55.6" x="360.8" y="835.7289">ViewProductCatalogUI</text><text fill="#000000" font-family="sans-serif" font-size="5.6" font-style="italic" lengthAdjust="spacing" textLength="31.6" x="432.4" y="27.5695">«repository»</text><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="46.8" x="424.8" y="34.6133">ProductRepository</text><path d="M442.2,7.3563 C442.2,3.3563 449.4,3.3563 449.4,3.3563 C449.4,3.3563 456.6,3.3563 456.6,7.3563 L456.6,17.7563 C456.6,21.7563 449.4,21.7563 449.4,21.7563 C449.4,21.7563 442.2,21.7563 442.2,17.7563 L442.2,7.3563 " fill="#FEFECE" filter="url(#fidy3py8qhv2r)" style="stroke:#000000;stroke-width:0.6000000000000001;"/><path d="M442.2,7.3563 C442.2,11.3563 449.4,11.3563 449.4,11.3563 C449.4,11.3563 456.6,11.3563 456.6,7.3563 " fill="none" style="stroke:#000000;stroke-width:0.6000000000000001;"/><text fill="#000000" font-family="sans-serif" font-size="5.6" font-style="italic" lengthAdjust="spacing" textLength="31.6" x="432.4" y="825.8852">«repository»</text><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="46.8" x="424.8" y="832.9289">ProductRepository</text><path d="M442.2,838.1594 C442.2,834.1594 449.4,834.1594 449.4,834.1594 C449.4,834.1594 456.6,834.1594 456.6,838.1594 L456.6,848.5594 C456.6,852.5594 449.4,852.5594 449.4,852.5594 C449.4,852.5594 442.2,852.5594 442.2,848.5594 L442.2,838.1594 " fill="#FEFECE" filter="url(#fidy3py8qhv2r)" style="stroke:#000000;stroke-width:0.6000000000000001;"/><path d="M442.2,838.1594 C442.2,842.1594 449.4,842.1594 449.4,842.1594 C449.4,842.1594 456.6,842.1594 456.6,838.1594 " fill="none" style="stroke:#000000;stroke-width:0.6000000000000001;"/><text fill="#000000" font-family="sans-serif" font-size="5.6" font-style="italic" lengthAdjust="spacing" textLength="31.6" x="483" y="27.5695">«repository»</text><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="41.6" x="478" y="34.6133">ClientRepository</text><path d="M492.8,7.3563 C492.8,3.3563 500,3.3563 500,3.3563 C500,3.3563 507.2,3.3563 507.2,7.3563 L507.2,17.7563 C507.2,21.7563 500,21.7563 500,21.7563 C500,21.7563 492.8,21.7563 492.8,17.7563 L492.8,7.3563 " fill="#FEFECE" filter="url(#fidy3py8qhv2r)" style="stroke:#000000;stroke-width:0.6000000000000001;"/><path d="M492.8,7.3563 C492.8,11.3563 500,11.3563 500,11.3563 C500,11.3563 507.2,11.3563 507.2,7.3563 " fill="none" style="stroke:#000000;stroke-width:0.6000000000000001;"/><text fill="#000000" font-family="sans-serif" font-size="5.6" font-style="italic" lengthAdjust="spacing" textLength="31.6" x="483" y="825.8852">«repository»</text><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="41.6" x="478" y="832.9289">ClientRepository</text><path d="M492.8,838.1594 C492.8,834.1594 500,834.1594 500,834.1594 C500,834.1594 507.2,834.1594 507.2,838.1594 L507.2,848.5594 C507.2,852.5594 500,852.5594 500,852.5594 C500,852.5594 492.8,852.5594 492.8,848.5594 L492.8,838.1594 " fill="#FEFECE" filter="url(#fidy3py8qhv2r)" style="stroke:#000000;stroke-width:0.6000000000000001;"/><path d="M492.8,838.1594 C492.8,842.1594 500,842.1594 500,842.1594 C500,842.1594 507.2,842.1594 507.2,838.1594 " fill="none" style="stroke:#000000;stroke-width:0.6000000000000001;"/><rect fill="#FEFECE" filter="url(#fidy3py8qhv2r)" height="19.6875" style="stroke:#A80036;stroke-width:0.6000000000000001;" width="46" x="526" y="14.1563"/><text fill="#000000" font-family="sans-serif" font-size="5.6" font-style="italic" lengthAdjust="spacing" textLength="38" x="530" y="22.7695">«presentation»</text><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="40.4" x="528.8" y="29.8133">RegisterClientUI</text><rect fill="#FEFECE" filter="url(#fidy3py8qhv2r)" height="19.6875" style="stroke:#A80036;stroke-width:0.6000000000000001;" width="46" x="526" y="820.0719"/><text fill="#000000" font-family="sans-serif" font-size="5.6" font-style="italic" lengthAdjust="spacing" textLength="38" x="530" y="828.6852">«presentation»</text><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="40.4" x="528.8" y="835.7289">RegisterClientUI</text><rect fill="#FEFECE" filter="url(#fidy3py8qhv2r)" height="19.6875" style="stroke:#A80036;stroke-width:0.6000000000000001;" width="69.6" x="577.6" y="14.1563"/><text fill="#000000" font-family="sans-serif" font-size="5.6" font-style="italic" lengthAdjust="spacing" textLength="24.8" x="600" y="22.7695">«domain»</text><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="64" x="580.4" y="29.8133">clientOrder:ProductOrder</text><rect fill="#FEFECE" filter="url(#fidy3py8qhv2r)" height="19.6875" style="stroke:#A80036;stroke-width:0.6000000000000001;" width="69.6" x="577.6" y="820.0719"/><text fill="#000000" font-family="sans-serif" font-size="5.6" font-style="italic" lengthAdjust="spacing" textLength="24.8" x="600" y="828.6852">«domain»</text><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="64" x="580.4" y="835.7289">clientOrder:ProductOrder</text><rect fill="#FEFECE" filter="url(#fidy3py8qhv2r)" height="19.6875" style="stroke:#A80036;stroke-width:0.6000000000000001;" width="54.4" x="652.8" y="14.1563"/><text fill="#000000" font-family="sans-serif" font-size="5.6" font-style="italic" lengthAdjust="spacing" textLength="35.6" x="662.2" y="22.7695">«persistence»</text><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="48.8" x="655.6" y="29.8133">PersistenceContext</text><rect fill="#FEFECE" filter="url(#fidy3py8qhv2r)" height="19.6875" style="stroke:#A80036;stroke-width:0.6000000000000001;" width="54.4" x="652.8" y="820.0719"/><text fill="#000000" font-family="sans-serif" font-size="5.6" font-style="italic" lengthAdjust="spacing" textLength="35.6" x="662.2" y="828.6852">«persistence»</text><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="48.8" x="655.6" y="835.7289">PersistenceContext</text><rect fill="#FEFECE" filter="url(#fidy3py8qhv2r)" height="19.6875" style="stroke:#A80036;stroke-width:0.6000000000000001;" width="52" x="712.8" y="14.1563"/><text fill="#000000" font-family="sans-serif" font-size="5.6" font-style="italic" lengthAdjust="spacing" textLength="23.6" x="727" y="22.7695">«factory»</text><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="46.4" x="715.6" y="29.8133">RepositoryFactory</text><rect fill="#FEFECE" filter="url(#fidy3py8qhv2r)" height="19.6875" style="stroke:#A80036;stroke-width:0.6000000000000001;" width="52" x="712.8" y="820.0719"/><text fill="#000000" font-family="sans-serif" font-size="5.6" font-style="italic" lengthAdjust="spacing" textLength="23.6" x="727" y="828.6852">«factory»</text><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="46.4" x="715.6" y="835.7289">RepositoryFactory</text><text fill="#000000" font-family="sans-serif" font-size="5.6" font-style="italic" lengthAdjust="spacing" textLength="31.6" x="785.4" y="27.5695">«repository»</text><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="61.6" x="770.4" y="34.6133">ProductOrderRepository</text><path d="M795.2,7.3563 C795.2,3.3563 802.4,3.3563 802.4,3.3563 C802.4,3.3563 809.6,3.3563 809.6,7.3563 L809.6,17.7563 C809.6,21.7563 802.4,21.7563 802.4,21.7563 C802.4,21.7563 795.2,21.7563 795.2,17.7563 L795.2,7.3563 " fill="#FEFECE" filter="url(#fidy3py8qhv2r)" style="stroke:#000000;stroke-width:0.6000000000000001;"/><path d="M795.2,7.3563 C795.2,11.3563 802.4,11.3563 802.4,11.3563 C802.4,11.3563 809.6,11.3563 809.6,7.3563 " fill="none" style="stroke:#000000;stroke-width:0.6000000000000001;"/><text fill="#000000" font-family="sans-serif" font-size="5.6" font-style="italic" lengthAdjust="spacing" textLength="31.6" x="785.4" y="825.8852">«repository»</text><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="61.6" x="770.4" y="832.9289">ProductOrderRepository</text><path d="M795.2,838.1594 C795.2,834.1594 802.4,834.1594 802.4,834.1594 C802.4,834.1594 809.6,834.1594 809.6,838.1594 L809.6,848.5594 C809.6,852.5594 802.4,852.5594 802.4,852.5594 C802.4,852.5594 795.2,852.5594 795.2,848.5594 L795.2,838.1594 " fill="#FEFECE" filter="url(#fidy3py8qhv2r)" style="stroke:#000000;stroke-width:0.6000000000000001;"/><path d="M795.2,838.1594 C795.2,842.1594 802.4,842.1594 802.4,842.1594 C802.4,842.1594 809.6,842.1594 809.6,838.1594 " fill="none" style="stroke:#000000;stroke-width:0.6000000000000001;"/><rect fill="#FFFFFF" filter="url(#fidy3py8qhv2r)" height="773.4281" style="stroke:#A80036;stroke-width:0.4000000000000001;" width="4" x="25.6" y="39.8438"/><rect fill="#FFFFFF" filter="url(#fidy3py8qhv2r)" height="30.8219" style="stroke:#A80036;stroke-width:0.4000000000000001;" width="4" x="151.2" y="55.325"/><rect fill="#FFFFFF" filter="url(#fidy3py8qhv2r)" height="78.9719" style="stroke:#A80036;stroke-width:0.4000000000000001;" width="4" x="151.2" y="98.2875"/><rect fill="#FFFFFF" filter="url(#fidy3py8qhv2r)" height="12.1406" style="stroke:#A80036;stroke-width:0.4000000000000001;" width="4" x="151.2" y="189.4"/><rect fill="#FFFFFF" filter="url(#fidy3py8qhv2r)" height="12" style="stroke:#A80036;stroke-width:0.4000000000000001;" width="4" x="151.2" y="213.6813"/><rect fill="#FFFFFF" filter="url(#fidy3py8qhv2r)" height="48.4219" style="stroke:#A80036;stroke-width:0.4000000000000001;" width="4" x="151.2" y="274.3063"/><rect fill="#FFFFFF" filter="url(#fidy3py8qhv2r)" height="17.7406" style="stroke:#A80036;stroke-width:0.4000000000000001;" width="4" x="151.2" y="334.8688"/><rect fill="#FFFFFF" filter="url(#fidy3py8qhv2r)" height="102.8438" style="stroke:#A80036;stroke-width:0.4000000000000001;" width="4" x="151.2" y="364.75"/><rect fill="#FFFFFF" filter="url(#fidy3py8qhv2r)" height="12.1406" style="stroke:#A80036;stroke-width:0.4000000000000001;" width="4" x="151.2" y="479.7344"/><rect fill="#FFFFFF" filter="url(#fidy3py8qhv2r)" height="12.1406" style="stroke:#A80036;stroke-width:0.4000000000000001;" width="4" x="151.2" y="504.0156"/><rect fill="#FFFFFF" filter="url(#fidy3py8qhv2r)" height="12.1406" style="stroke:#A80036;stroke-width:0.4000000000000001;" width="4" x="151.2" y="528.2969"/><rect fill="#FFFFFF" filter="url(#fidy3py8qhv2r)" height="12.1406" style="stroke:#A80036;stroke-width:0.4000000000000001;" width="4" x="151.2" y="552.5781"/><rect fill="#FFFFFF" filter="url(#fidy3py8qhv2r)" height="12.1406" style="stroke:#A80036;stroke-width:0.4000000000000001;" width="4" x="151.2" y="576.8594"/><rect fill="#FFFFFF" filter="url(#fidy3py8qhv2r)" height="22.2813" style="stroke:#A80036;stroke-width:0.4000000000000001;" width="4" x="151.2" y="601.1406"/><rect fill="#FFFFFF" filter="url(#fidy3py8qhv2r)" height="177.7094" style="stroke:#A80036;stroke-width:0.4000000000000001;" width="4" x="151.2" y="635.5625"/><rect fill="#FFFFFF" filter="url(#fidy3py8qhv2r)" height="24.1406" style="stroke:#A80036;stroke-width:0.4000000000000001;" width="4" x="310.8" y="286.4469"/><rect fill="#FFFFFF" filter="url(#fidy3py8qhv2r)" height="24.1406" style="stroke:#A80036;stroke-width:0.4000000000000001;" width="4" x="310.8" y="376.8906"/><rect fill="#FFFFFF" filter="url(#fidy3py8qhv2r)" height="144.0875" style="stroke:#A80036;stroke-width:0.4000000000000001;" width="4" x="310.8" y="657.0438"/><rect fill="#FFFFFF" filter="url(#fidy3py8qhv2r)" height="26.5406" style="stroke:#A80036;stroke-width:0.4000000000000001;" width="4" x="387.4" y="135.7781"/><rect fill="#FFFFFF" filter="url(#fidy3py8qhv2r)" height="11.2" style="stroke:#A80036;stroke-width:0.4000000000000001;" width="4" x="389.4" y="151.1188"/><rect fill="#FFFFFF" filter="url(#fidy3py8qhv2r)" height="12" style="stroke:#A80036;stroke-width:0.4000000000000001;" width="4" x="447.4" y="298.5875"/><rect fill="#FFFFFF" filter="url(#fidy3py8qhv2r)" height="12" style="stroke:#A80036;stroke-width:0.4000000000000001;" width="4" x="498" y="389.0313"/><rect fill="#FFFFFF" filter="url(#fidy3py8qhv2r)" height="26.5406" style="stroke:#A80036;stroke-width:0.4000000000000001;" width="4" x="547.8" y="423.3125"/><rect fill="#FFFFFF" filter="url(#fidy3py8qhv2r)" height="11.2" style="stroke:#A80036;stroke-width:0.4000000000000001;" width="4" x="549.8" y="438.6531"/><rect fill="#FFFFFF" filter="url(#fidy3py8qhv2r)" height="12.1406" style="stroke:#A80036;stroke-width:0.4000000000000001;" width="4" x="611.2" y="675.725"/><rect fill="#FFFFFF" filter="url(#fidy3py8qhv2r)" height="40.4219" style="stroke:#A80036;stroke-width:0.4000000000000001;" width="4" x="678.8" y="700.0063"/><rect fill="#FFFFFF" filter="url(#fidy3py8qhv2r)" height="24.2813" style="stroke:#A80036;stroke-width:0.4000000000000001;" width="4" x="737.6" y="752.5688"/><polygon fill="#A80036" points="146.4,53.725,150.4,55.325,146.4,56.925,148,55.325" style="stroke:#A80036;stroke-width:0.4000000000000001;"/><line style="stroke:#A80036;stroke-width:0.4000000000000001;" x1="29.6" x2="148.8" y1="55.325" y2="55.325"/><text fill="#000000" font-family="sans-serif" font-size="5.2" font-weight="bold" lengthAdjust="spacing" textLength="2.8" x="32.4" y="50.1121">1</text><text fill="#000000" font-family="sans-serif" font-size="5.2" lengthAdjust="spacing" textLength="89.6" x="36.8" y="46.8418">Inicia o processo de registo de compra</text><text fill="#000000" font-family="sans-serif" font-size="5.2" lengthAdjust="spacing" textLength="62" x="38.4" y="53.3824">de um determinado Cliente</text><polygon fill="#A80036" points="308,65.8656,312,67.4656,308,69.0656,309.6,67.4656" style="stroke:#A80036;stroke-width:0.4000000000000001;"/><line style="stroke:#A80036;stroke-width:0.4000000000000001;" x1="155.2" x2="310.4" y1="67.4656" y2="67.4656"/><text fill="#000000" font-family="sans-serif" font-size="5.2" font-weight="bold" lengthAdjust="spacing" textLength="2.8" x="158" y="65.523">2</text><text fill="#000000" font-family="sans-serif" font-size="5.2" lengthAdjust="spacing" textLength="14.4" x="162.4" y="65.523">create</text><polygon fill="#A80036" points="34,84.5469,30,86.1469,34,87.7469,32.4,86.1469" style="stroke:#A80036;stroke-width:0.4000000000000001;"/><line style="stroke:#A80036;stroke-width:0.4000000000000001;stroke-dasharray:2.0,2.0;" x1="31.6" x2="152.8" y1="86.1469" y2="86.1469"/><text fill="#000000" font-family="sans-serif" font-size="5.2" font-weight="bold" lengthAdjust="spacing" textLength="2.8" x="36.4" y="80.934">3</text><text fill="#000000" font-family="sans-serif" font-size="5.2" lengthAdjust="spacing" textLength="96" x="40.8" y="77.6637">Solicita o método de escolha de produtos</text><text fill="#000000" font-family="sans-serif" font-size="5.2" lengthAdjust="spacing" textLength="42.8" x="42.4" y="84.2043">para a encomenda</text><polygon fill="#A80036" points="146.4,96.6875,150.4,98.2875,146.4,99.8875,148,98.2875" style="stroke:#A80036;stroke-width:0.4000000000000001;"/><line style="stroke:#A80036;stroke-width:0.4000000000000001;" x1="29.6" x2="148.8" y1="98.2875" y2="98.2875"/><text fill="#000000" font-family="sans-serif" font-size="5.2" font-weight="bold" lengthAdjust="spacing" textLength="2.8" x="32.4" y="96.3449">4</text><text fill="#000000" font-family="sans-serif" font-size="5.2" lengthAdjust="spacing" textLength="65.6" x="36.8" y="96.3449">Informa o método pretendido</text><path d="M4,104.2875 L28.4,104.2875 L28.4,107.4875 L24.4,111.4875 L4,111.4875 L4,104.2875 " fill="#EEEEEE" style="stroke:#000000;stroke-width:0.4000000000000001;"/><rect fill="none" height="236.5813" style="stroke:#000000;stroke-width:0.8000000000000002;" width="478" x="4" y="104.2875"/><text fill="#000000" font-family="sans-serif" font-size="5.2" font-weight="bold" lengthAdjust="spacing" textLength="6.4" x="10" y="110.0855">alt</text><text fill="#000000" font-family="sans-serif" font-size="4.4" font-weight="bold" lengthAdjust="spacing" textLength="76.4" x="34.4" y="109.6551">[método visualização de produtos]</text><path d="M8,114.4281 L37.2,114.4281 L37.2,117.6281 L33.2,121.6281 L8,121.6281 L8,114.4281 " fill="#EEEEEE" style="stroke:#000000;stroke-width:0.4000000000000001;"/><rect fill="none" height="114.4531" style="stroke:#000000;stroke-width:0.8000000000000002;" width="419" x="8" y="114.4281"/><text fill="#000000" font-family="sans-serif" font-size="5.2" font-weight="bold" lengthAdjust="spacing" textLength="11.2" x="14" y="120.2262">loop</text><text fill="#000000" font-family="sans-serif" font-size="4.4" font-weight="bold" lengthAdjust="spacing" textLength="67.2" x="43.2" y="119.7957">[enquanto pretender adicionar</text><text fill="#000000" font-family="sans-serif" font-size="4.4" font-weight="bold" lengthAdjust="spacing" textLength="52.8" x="44.4" y="125.3301">produtos à encomenda]</text><polygon fill="#A80036" points="382.6,134.1781,386.6,135.7781,382.6,137.3781,384.2,135.7781" style="stroke:#A80036;stroke-width:0.4000000000000001;"/><line style="stroke:#A80036;stroke-width:0.4000000000000001;" x1="155.2" x2="385" y1="135.7781" y2="135.7781"/><text fill="#000000" font-family="sans-serif" font-size="5.2" font-weight="bold" lengthAdjust="spacing" textLength="2.8" x="158" y="133.8355">5</text><text fill="#000000" font-family="sans-serif" font-size="5.2" lengthAdjust="spacing" textLength="14.4" x="162.4" y="133.8355">create</text><line style="stroke:#A80036;stroke-width:0.4000000000000001;" x1="393.4" x2="410.2" y1="147.9188" y2="147.9188"/><line style="stroke:#A80036;stroke-width:0.4000000000000001;" x1="410.2" x2="410.2" y1="147.9188" y2="153.1188"/><line style="stroke:#A80036;stroke-width:0.4000000000000001;" x1="393.8" x2="410.2" y1="153.1188" y2="153.1188"/><polygon fill="#A80036" points="397.8,151.5188,393.8,153.1188,397.8,154.7188,396.2,153.1188" style="stroke:#A80036;stroke-width:0.4000000000000001;"/><text fill="#000000" font-family="sans-serif" font-size="5.2" font-weight="bold" lengthAdjust="spacing" textLength="2.8" x="396.2" y="145.9762">6</text><text fill="#000000" font-family="sans-serif" font-size="5.2" lengthAdjust="spacing" textLength="21.6" x="400.6" y="145.9762">doShow()</text><polygon fill="#A80036" points="34,175.6594,30,177.2594,34,178.8594,32.4,177.2594" style="stroke:#A80036;stroke-width:0.4000000000000001;"/><line style="stroke:#A80036;stroke-width:0.4000000000000001;stroke-dasharray:2.0,2.0;" x1="31.6" x2="152.8" y1="177.2594" y2="177.2594"/><text fill="#000000" font-family="sans-serif" font-size="5.2" font-weight="bold" lengthAdjust="spacing" textLength="2.8" x="36.4" y="175.3168">7</text><text fill="#000000" font-family="sans-serif" font-size="5.2" lengthAdjust="spacing" textLength="70.4" x="40.8" y="175.3168">Mostra o catálogo de produtos</text><polygon fill="#A80036" points="146.4,187.8,150.4,189.4,146.4,191,148,189.4" style="stroke:#A80036;stroke-width:0.4000000000000001;"/><line style="stroke:#A80036;stroke-width:0.4000000000000001;" x1="29.6" x2="148.8" y1="189.4" y2="189.4"/><text fill="#000000" font-family="sans-serif" font-size="5.2" font-weight="bold" lengthAdjust="spacing" textLength="2.8" x="32.4" y="187.4574">8</text><text fill="#000000" font-family="sans-serif" font-size="5.2" lengthAdjust="spacing" textLength="67.6" x="36.8" y="187.4574">Escolhe o produto pretendido</text><polygon fill="#A80036" points="34,199.9406,30,201.5406,34,203.1406,32.4,201.5406" style="stroke:#A80036;stroke-width:0.4000000000000001;"/><line style="stroke:#A80036;stroke-width:0.4000000000000001;stroke-dasharray:2.0,2.0;" x1="31.6" x2="152.8" y1="201.5406" y2="201.5406"/><text fill="#000000" font-family="sans-serif" font-size="5.2" font-weight="bold" lengthAdjust="spacing" textLength="2.8" x="36.4" y="199.598">9</text><text fill="#000000" font-family="sans-serif" font-size="5.2" lengthAdjust="spacing" textLength="92" x="40.8" y="199.598">Solicita a quantidade relativa ao produto</text><polygon fill="#A80036" points="146.4,212.0813,150.4,213.6813,146.4,215.2813,148,213.6813" style="stroke:#A80036;stroke-width:0.4000000000000001;"/><line style="stroke:#A80036;stroke-width:0.4000000000000001;" x1="29.6" x2="148.8" y1="213.6813" y2="213.6813"/><text fill="#000000" font-family="sans-serif" font-size="5.2" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="32.4" y="211.7387">10</text><text fill="#000000" font-family="sans-serif" font-size="5.2" lengthAdjust="spacing" textLength="48" x="39.6" y="211.7387">Informa a quantidade</text><line style="stroke:#000000;stroke-width:0.4000000000000001;stroke-dasharray:2.0,2.0;" x1="4" x2="482" y1="232.0813" y2="232.0813"/><text fill="#000000" font-family="sans-serif" font-size="4.4" font-weight="bold" lengthAdjust="spacing" textLength="78.4" x="6" y="236.6488">[método inserção do ID do Produto]</text><path d="M8,240.8156 L37.2,240.8156 L37.2,244.0156 L33.2,248.0156 L8,248.0156 L8,240.8156 " fill="#EEEEEE" style="stroke:#000000;stroke-width:0.4000000000000001;"/><rect fill="none" height="97.2531" style="stroke:#000000;stroke-width:0.8000000000000002;" width="470" x="8" y="240.8156"/><text fill="#000000" font-family="sans-serif" font-size="5.2" font-weight="bold" lengthAdjust="spacing" textLength="11.2" x="14" y="246.6137">loop</text><text fill="#000000" font-family="sans-serif" font-size="4.4" font-weight="bold" lengthAdjust="spacing" textLength="67.2" x="43.2" y="246.1832">[enquanto pretender adicionar</text><text fill="#000000" font-family="sans-serif" font-size="4.4" font-weight="bold" lengthAdjust="spacing" textLength="52.8" x="44.4" y="251.7176">produtos à encomenda]</text><polygon fill="#A80036" points="34,260.5656,30,262.1656,34,263.7656,32.4,262.1656" style="stroke:#A80036;stroke-width:0.4000000000000001;"/><line style="stroke:#A80036;stroke-width:0.4000000000000001;stroke-dasharray:2.0,2.0;" x1="31.6" x2="152.8" y1="262.1656" y2="262.1656"/><text fill="#000000" font-family="sans-serif" font-size="5.2" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="36.4" y="260.223">11</text><text fill="#000000" font-family="sans-serif" font-size="5.2" lengthAdjust="spacing" textLength="53.2" x="43.6" y="260.223">Solicita o id do produto</text><polygon fill="#A80036" points="146.4,272.7063,150.4,274.3063,146.4,275.9063,148,274.3063" style="stroke:#A80036;stroke-width:0.4000000000000001;"/><line style="stroke:#A80036;stroke-width:0.4000000000000001;" x1="29.6" x2="148.8" y1="274.3063" y2="274.3063"/><text fill="#000000" font-family="sans-serif" font-size="5.2" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="32.4" y="272.3637">12</text><text fill="#000000" font-family="sans-serif" font-size="5.2" lengthAdjust="spacing" textLength="70.8" x="39.6" y="272.3637">Insere a informação pretendida</text><polygon fill="#A80036" points="306,284.8469,310,286.4469,306,288.0469,307.6,286.4469" style="stroke:#A80036;stroke-width:0.4000000000000001;"/><line style="stroke:#A80036;stroke-width:0.4000000000000001;" x1="155.2" x2="308.4" y1="286.4469" y2="286.4469"/><text fill="#000000" font-family="sans-serif" font-size="5.2" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="158" y="284.5043">13</text><text fill="#000000" font-family="sans-serif" font-size="5.2" lengthAdjust="spacing" textLength="58" x="165.2" y="284.5043">verifyProductId(productId)</text><polygon fill="#A80036" points="442.6,296.9875,446.6,298.5875,442.6,300.1875,444.2,298.5875" style="stroke:#A80036;stroke-width:0.4000000000000001;"/><line style="stroke:#A80036;stroke-width:0.4000000000000001;" x1="314.8" x2="445" y1="298.5875" y2="298.5875"/><text fill="#000000" font-family="sans-serif" font-size="5.2" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="317.6" y="296.6449">14</text><text fill="#000000" font-family="sans-serif" font-size="5.2" lengthAdjust="spacing" textLength="45.2" x="324.8" y="296.6449">ofIdentity(productId)</text><polygon fill="#A80036" points="34,321.1281,30,322.7281,34,324.3281,32.4,322.7281" style="stroke:#A80036;stroke-width:0.4000000000000001;"/><line style="stroke:#A80036;stroke-width:0.4000000000000001;stroke-dasharray:2.0,2.0;" x1="31.6" x2="152.8" y1="322.7281" y2="322.7281"/><text fill="#000000" font-family="sans-serif" font-size="5.2" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="36.4" y="320.7855">15</text><text fill="#000000" font-family="sans-serif" font-size="5.2" lengthAdjust="spacing" textLength="92" x="43.6" y="320.7855">Solicita a quantidade relativa ao produto</text><polygon fill="#A80036" points="146.4,333.2688,150.4,334.8688,146.4,336.4688,148,334.8688" style="stroke:#A80036;stroke-width:0.4000000000000001;"/><line style="stroke:#A80036;stroke-width:0.4000000000000001;" x1="29.6" x2="148.8" y1="334.8688" y2="334.8688"/><text fill="#000000" font-family="sans-serif" font-size="5.2" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="32.4" y="332.9262">16</text><text fill="#000000" font-family="sans-serif" font-size="5.2" lengthAdjust="spacing" textLength="48" x="39.6" y="332.9262">Informa a quantidade</text><polygon fill="#A80036" points="34,351.0094,30,352.6094,34,354.2094,32.4,352.6094" style="stroke:#A80036;stroke-width:0.4000000000000001;"/><line style="stroke:#A80036;stroke-width:0.4000000000000001;stroke-dasharray:2.0,2.0;" x1="31.6" x2="152.8" y1="352.6094" y2="352.6094"/><text fill="#000000" font-family="sans-serif" font-size="5.2" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="36.4" y="350.6668">17</text><text fill="#000000" font-family="sans-serif" font-size="5.2" lengthAdjust="spacing" textLength="52.8" x="43.6" y="350.6668">Solicita o ID do Cliente</text><polygon fill="#A80036" points="146.4,363.15,150.4,364.75,146.4,366.35,148,364.75" style="stroke:#A80036;stroke-width:0.4000000000000001;"/><line style="stroke:#A80036;stroke-width:0.4000000000000001;" x1="29.6" x2="148.8" y1="364.75" y2="364.75"/><text fill="#000000" font-family="sans-serif" font-size="5.2" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="32.4" y="362.8074">18</text><text fill="#000000" font-family="sans-serif" font-size="5.2" lengthAdjust="spacing" textLength="62" x="39.6" y="362.8074">Insere a informação pedida</text><polygon fill="#A80036" points="306,375.2906,310,376.8906,306,378.4906,307.6,376.8906" style="stroke:#A80036;stroke-width:0.4000000000000001;"/><line style="stroke:#A80036;stroke-width:0.4000000000000001;" x1="155.2" x2="308.4" y1="376.8906" y2="376.8906"/><text fill="#000000" font-family="sans-serif" font-size="5.2" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="158" y="374.948">19</text><text fill="#000000" font-family="sans-serif" font-size="5.2" lengthAdjust="spacing" textLength="48.4" x="165.2" y="374.948">verifyClientId(clientId)</text><polygon fill="#A80036" points="493.2,387.4313,497.2,389.0313,493.2,390.6313,494.8,389.0313" style="stroke:#A80036;stroke-width:0.4000000000000001;"/><line style="stroke:#A80036;stroke-width:0.4000000000000001;" x1="314.8" x2="495.6" y1="389.0313" y2="389.0313"/><text fill="#000000" font-family="sans-serif" font-size="5.2" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="317.6" y="387.0887">20</text><text fill="#000000" font-family="sans-serif" font-size="5.2" lengthAdjust="spacing" textLength="40.4" x="324.8" y="387.0887">ofIdentity(clientId)</text><path d="M118,407.0313 L142.4,407.0313 L142.4,410.2313 L138.4,414.2313 L118,414.2313 L118,407.0313 " fill="#EEEEEE" style="stroke:#000000;stroke-width:0.4000000000000001;"/><rect fill="none" height="48.8219" style="stroke:#000000;stroke-width:0.8000000000000002;" width="472.2" x="118" y="407.0313"/><text fill="#000000" font-family="sans-serif" font-size="5.2" font-weight="bold" lengthAdjust="spacing" textLength="6.4" x="124" y="412.8293">alt</text><text fill="#000000" font-family="sans-serif" font-size="4.4" font-weight="bold" lengthAdjust="spacing" textLength="65.2" x="148.4" y="412.3988">[cliente não estava registado]</text><polygon fill="#A80036" points="543,421.7125,547,423.3125,543,424.9125,544.6,423.3125" style="stroke:#A80036;stroke-width:0.4000000000000001;"/><line style="stroke:#A80036;stroke-width:0.4000000000000001;" x1="155.2" x2="545.4" y1="423.3125" y2="423.3125"/><text fill="#000000" font-family="sans-serif" font-size="5.2" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="158" y="421.3699">21</text><text fill="#000000" font-family="sans-serif" font-size="5.2" lengthAdjust="spacing" textLength="14.4" x="165.2" y="421.3699">create</text><line style="stroke:#A80036;stroke-width:0.4000000000000001;" x1="553.8" x2="570.6" y1="435.4531" y2="435.4531"/><line style="stroke:#A80036;stroke-width:0.4000000000000001;" x1="570.6" x2="570.6" y1="435.4531" y2="440.6531"/><line style="stroke:#A80036;stroke-width:0.4000000000000001;" x1="554.2" x2="570.6" y1="440.6531" y2="440.6531"/><polygon fill="#A80036" points="558.2,439.0531,554.2,440.6531,558.2,442.2531,556.6,440.6531" style="stroke:#A80036;stroke-width:0.4000000000000001;"/><text fill="#000000" font-family="sans-serif" font-size="5.2" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="556.6" y="433.5105">22</text><text fill="#000000" font-family="sans-serif" font-size="5.2" lengthAdjust="spacing" textLength="21.6" x="563.8" y="433.5105">doShow()</text><polygon fill="#A80036" points="34,465.9938,30,467.5938,34,469.1938,32.4,467.5938" style="stroke:#A80036;stroke-width:0.4000000000000001;"/><line style="stroke:#A80036;stroke-width:0.4000000000000001;stroke-dasharray:2.0,2.0;" x1="31.6" x2="152.8" y1="467.5938" y2="467.5938"/><text fill="#000000" font-family="sans-serif" font-size="5.2" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="36.4" y="465.6512">23</text><text fill="#000000" font-family="sans-serif" font-size="5.2" lengthAdjust="spacing" textLength="70.4" x="43.6" y="465.6512">Solicita a morada de faturação</text><polygon fill="#A80036" points="146.4,478.1344,150.4,479.7344,146.4,481.3344,148,479.7344" style="stroke:#A80036;stroke-width:0.4000000000000001;"/><line style="stroke:#A80036;stroke-width:0.4000000000000001;" x1="29.6" x2="148.8" y1="479.7344" y2="479.7344"/><text fill="#000000" font-family="sans-serif" font-size="5.2" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="32.4" y="477.7918">24</text><text fill="#000000" font-family="sans-serif" font-size="5.2" lengthAdjust="spacing" textLength="62" x="39.6" y="477.7918">Insere a informação pedida</text><polygon fill="#A80036" points="34,490.275,30,491.875,34,493.475,32.4,491.875" style="stroke:#A80036;stroke-width:0.4000000000000001;"/><line style="stroke:#A80036;stroke-width:0.4000000000000001;stroke-dasharray:2.0,2.0;" x1="31.6" x2="152.8" y1="491.875" y2="491.875"/><text fill="#000000" font-family="sans-serif" font-size="5.2" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="36.4" y="489.9324">25</text><text fill="#000000" font-family="sans-serif" font-size="5.2" lengthAdjust="spacing" textLength="66.4" x="43.6" y="489.9324">Solicita a morada de entrega</text><polygon fill="#A80036" points="146.4,502.4156,150.4,504.0156,146.4,505.6156,148,504.0156" style="stroke:#A80036;stroke-width:0.4000000000000001;"/><line style="stroke:#A80036;stroke-width:0.4000000000000001;" x1="29.6" x2="148.8" y1="504.0156" y2="504.0156"/><text fill="#000000" font-family="sans-serif" font-size="5.2" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="32.4" y="502.073">26</text><text fill="#000000" font-family="sans-serif" font-size="5.2" lengthAdjust="spacing" textLength="62" x="39.6" y="502.073">Insere a informação pedida</text><polygon fill="#A80036" points="34,514.5563,30,516.1563,34,517.7563,32.4,516.1563" style="stroke:#A80036;stroke-width:0.4000000000000001;"/><line style="stroke:#A80036;stroke-width:0.4000000000000001;stroke-dasharray:2.0,2.0;" x1="31.6" x2="152.8" y1="516.1563" y2="516.1563"/><text fill="#000000" font-family="sans-serif" font-size="5.2" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="36.4" y="514.2137">27</text><text fill="#000000" font-family="sans-serif" font-size="5.2" lengthAdjust="spacing" textLength="89.2" x="43.6" y="514.2137">Mostra os diferentes métodos de envio</text><polygon fill="#A80036" points="146.4,526.6969,150.4,528.2969,146.4,529.8969,148,528.2969" style="stroke:#A80036;stroke-width:0.4000000000000001;"/><line style="stroke:#A80036;stroke-width:0.4000000000000001;" x1="29.6" x2="148.8" y1="528.2969" y2="528.2969"/><text fill="#000000" font-family="sans-serif" font-size="5.2" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="32.4" y="526.3543">28</text><text fill="#000000" font-family="sans-serif" font-size="5.2" lengthAdjust="spacing" textLength="67.6" x="39.6" y="526.3543">Escolhe o método pretendido</text><polygon fill="#A80036" points="34,538.8375,30,540.4375,34,542.0375,32.4,540.4375" style="stroke:#A80036;stroke-width:0.4000000000000001;"/><line style="stroke:#A80036;stroke-width:0.4000000000000001;stroke-dasharray:2.0,2.0;" x1="31.6" x2="152.8" y1="540.4375" y2="540.4375"/><text fill="#000000" font-family="sans-serif" font-size="5.2" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="36.4" y="538.4949">29</text><text fill="#000000" font-family="sans-serif" font-size="5.2" lengthAdjust="spacing" textLength="103.2" x="43.6" y="538.4949">Mostra os diferentes métodos de pagamento</text><polygon fill="#A80036" points="146.4,550.9781,150.4,552.5781,146.4,554.1781,148,552.5781" style="stroke:#A80036;stroke-width:0.4000000000000001;"/><line style="stroke:#A80036;stroke-width:0.4000000000000001;" x1="29.6" x2="148.8" y1="552.5781" y2="552.5781"/><text fill="#000000" font-family="sans-serif" font-size="5.2" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="32.4" y="550.6355">30</text><text fill="#000000" font-family="sans-serif" font-size="5.2" lengthAdjust="spacing" textLength="67.6" x="39.6" y="550.6355">Escolhe o método pretendido</text><polygon fill="#A80036" points="34,563.1188,30,564.7188,34,566.3188,32.4,564.7188" style="stroke:#A80036;stroke-width:0.4000000000000001;"/><line style="stroke:#A80036;stroke-width:0.4000000000000001;stroke-dasharray:2.0,2.0;" x1="31.6" x2="152.8" y1="564.7188" y2="564.7188"/><text fill="#000000" font-family="sans-serif" font-size="5.2" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="36.4" y="562.7762">31</text><text fill="#000000" font-family="sans-serif" font-size="5.2" lengthAdjust="spacing" textLength="97.2" x="43.6" y="562.7762">Solicita o meio de interação com o cliente</text><polygon fill="#A80036" points="146.4,575.2594,150.4,576.8594,146.4,578.4594,148,576.8594" style="stroke:#A80036;stroke-width:0.4000000000000001;"/><line style="stroke:#A80036;stroke-width:0.4000000000000001;" x1="29.6" x2="148.8" y1="576.8594" y2="576.8594"/><text fill="#000000" font-family="sans-serif" font-size="5.2" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="32.4" y="574.9168">32</text><text fill="#000000" font-family="sans-serif" font-size="5.2" lengthAdjust="spacing" textLength="46.8" x="39.6" y="574.9168">Informa o pretendido</text><polygon fill="#A80036" points="34,587.4,30,589,34,590.6,32.4,589" style="stroke:#A80036;stroke-width:0.4000000000000001;"/><line style="stroke:#A80036;stroke-width:0.4000000000000001;stroke-dasharray:2.0,2.0;" x1="31.6" x2="152.8" y1="589" y2="589"/><text fill="#000000" font-family="sans-serif" font-size="5.2" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="36.4" y="587.0574">33</text><text fill="#000000" font-family="sans-serif" font-size="5.2" lengthAdjust="spacing" textLength="104.8" x="43.6" y="587.0574">Solicita a data de quando ocorreu a interação</text><polygon fill="#A80036" points="146.4,599.5406,150.4,601.1406,146.4,602.7406,148,601.1406" style="stroke:#A80036;stroke-width:0.4000000000000001;"/><line style="stroke:#A80036;stroke-width:0.4000000000000001;" x1="29.6" x2="148.8" y1="601.1406" y2="601.1406"/><text fill="#000000" font-family="sans-serif" font-size="5.2" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="32.4" y="599.198">34</text><text fill="#000000" font-family="sans-serif" font-size="5.2" lengthAdjust="spacing" textLength="46.8" x="39.6" y="599.198">Informa o pretendido</text><path d="M8,607.1406 L32.4,607.1406 L32.4,610.3406 L28.4,614.3406 L8,614.3406 L8,607.1406 " fill="#EEEEEE" style="stroke:#000000;stroke-width:0.4000000000000001;"/><rect fill="none" height="31.6219" style="stroke:#000000;stroke-width:0.8000000000000002;" width="180.4" x="8" y="607.1406"/><text fill="#000000" font-family="sans-serif" font-size="5.2" font-weight="bold" lengthAdjust="spacing" textLength="6.4" x="14" y="612.9387">alt</text><text fill="#000000" font-family="sans-serif" font-size="4.4" font-weight="bold" lengthAdjust="spacing" textLength="60.4" x="38.4" y="612.5082">[deseja inserir comentário]</text><polygon fill="#A80036" points="34,621.8219,30,623.4219,34,625.0219,32.4,623.4219" style="stroke:#A80036;stroke-width:0.4000000000000001;"/><line style="stroke:#A80036;stroke-width:0.4000000000000001;stroke-dasharray:2.0,2.0;" x1="31.6" x2="152.8" y1="623.4219" y2="623.4219"/><text fill="#000000" font-family="sans-serif" font-size="5.2" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="36.4" y="621.4793">35</text><text fill="#000000" font-family="sans-serif" font-size="5.2" lengthAdjust="spacing" textLength="66.4" x="43.6" y="621.4793">Solicita comentário adicional</text><polygon fill="#A80036" points="146.4,633.9625,150.4,635.5625,146.4,637.1625,148,635.5625" style="stroke:#A80036;stroke-width:0.4000000000000001;"/><line style="stroke:#A80036;stroke-width:0.4000000000000001;" x1="29.6" x2="148.8" y1="635.5625" y2="635.5625"/><text fill="#000000" font-family="sans-serif" font-size="5.2" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="32.4" y="633.6199">36</text><text fill="#000000" font-family="sans-serif" font-size="5.2" lengthAdjust="spacing" textLength="62" x="39.6" y="633.6199">Insere a informação pedida</text><polygon fill="#A80036" points="306,655.4438,310,657.0438,306,658.6438,307.6,657.0438" style="stroke:#A80036;stroke-width:0.4000000000000001;"/><line style="stroke:#A80036;stroke-width:0.4000000000000001;" x1="155.2" x2="308.4" y1="657.0438" y2="657.0438"/><text fill="#000000" font-family="sans-serif" font-size="5.2" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="158" y="651.8309">37</text><text fill="#000000" font-family="sans-serif" font-size="5.2" lengthAdjust="spacing" textLength="140.8" x="165.2" y="648.5605">registerOrder(items, clientId, billingAddress, deliveryAddress,</text><text fill="#000000" font-family="sans-serif" font-size="5.2" lengthAdjust="spacing" textLength="120" x="166.8" y="655.1012">shipment, payment,sourceChannel, date, comment)</text><polygon fill="#A80036" points="606.4,674.125,610.4,675.725,606.4,677.325,608,675.725" style="stroke:#A80036;stroke-width:0.4000000000000001;"/><line style="stroke:#A80036;stroke-width:0.4000000000000001;" x1="314.8" x2="608.8" y1="675.725" y2="675.725"/><text fill="#000000" font-family="sans-serif" font-size="5.2" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="317.6" y="670.5121">38</text><text fill="#000000" font-family="sans-serif" font-size="5.2" lengthAdjust="spacing" textLength="110.8" x="324.8" y="667.2418">(items, clientId, billingAddress, deliveryAddress,</text><text fill="#000000" font-family="sans-serif" font-size="5.2" lengthAdjust="spacing" textLength="147.2" x="326.4" y="673.7824">shipment, payment,sourceChannel, date, comment, createdOn)</text><polygon fill="#A80036" points="319.2,686.2656,315.2,687.8656,319.2,689.4656,317.6,687.8656" style="stroke:#A80036;stroke-width:0.4000000000000001;"/><line style="stroke:#A80036;stroke-width:0.4000000000000001;" x1="316.8" x2="612.8" y1="687.8656" y2="687.8656"/><text fill="#000000" font-family="sans-serif" font-size="5.2" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="321.6" y="685.923">39</text><text fill="#000000" font-family="sans-serif" font-size="5.2" lengthAdjust="spacing" textLength="25.2" x="328.8" y="685.923">clientOrder</text><polygon fill="#A80036" points="674,698.4063,678,700.0063,674,701.6063,675.6,700.0063" style="stroke:#A80036;stroke-width:0.4000000000000001;"/><line style="stroke:#A80036;stroke-width:0.4000000000000001;" x1="314.8" x2="676.4" y1="700.0063" y2="700.0063"/><text fill="#000000" font-family="sans-serif" font-size="5.2" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="317.6" y="698.0637">40</text><text fill="#000000" font-family="sans-serif" font-size="5.2" lengthAdjust="spacing" textLength="30" x="324.8" y="698.0637">repositories()</text><path d="M684.8,705.2063 L684.8,715.6063 L790.4,715.6063 L790.4,709.2063 L786.4,705.2063 L684.8,705.2063 " fill="#FBFB77" filter="url(#fidy3py8qhv2r)" style="stroke:#A80036;stroke-width:0.4000000000000001;"/><path d="M786.4,705.2063 L786.4,709.2063 L790.4,709.2063 L786.4,705.2063 " fill="#FBFB77" style="stroke:#A80036;stroke-width:0.4000000000000001;"/><text fill="#000000" font-family="sans-serif" font-size="5.2" lengthAdjust="spacing" textLength="97.2" x="687.2" y="712.6043">pode criar repositório em memória ou JPA</text><polygon fill="#A80036" points="734.8,726.6875,738.8,728.2875,734.8,729.8875,736.4,728.2875" style="stroke:#A80036;stroke-width:0.4000000000000001;"/><line style="stroke:#A80036;stroke-width:0.4000000000000001;" x1="682.8" x2="737.2" y1="728.2875" y2="728.2875"/><text fill="#000000" font-family="sans-serif" font-size="5.2" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="685.6" y="726.3449">41</text><text fill="#000000" font-family="sans-serif" font-size="5.2" lengthAdjust="spacing" textLength="14.4" x="692.8" y="726.3449">create</text><polygon fill="#A80036" points="319.2,738.8281,315.2,740.4281,319.2,742.0281,317.6,740.4281" style="stroke:#A80036;stroke-width:0.4000000000000001;"/><line style="stroke:#A80036;stroke-width:0.4000000000000001;" x1="316.8" x2="680.4" y1="740.4281" y2="740.4281"/><text fill="#000000" font-family="sans-serif" font-size="5.2" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="321.6" y="738.4855">42</text><text fill="#000000" font-family="sans-serif" font-size="5.2" lengthAdjust="spacing" textLength="15.6" x="328.8" y="738.4855">factory</text><polygon fill="#A80036" points="732.8,750.9688,736.8,752.5688,732.8,754.1688,734.4,752.5688" style="stroke:#A80036;stroke-width:0.4000000000000001;"/><line style="stroke:#A80036;stroke-width:0.4000000000000001;" x1="314.8" x2="735.2" y1="752.5688" y2="752.5688"/><text fill="#000000" font-family="sans-serif" font-size="5.2" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="317.6" y="750.6262">43</text><text fill="#000000" font-family="sans-serif" font-size="5.2" lengthAdjust="spacing" textLength="31.2" x="324.8" y="750.6262">clientOrders()</text><polygon fill="#A80036" points="797.6,763.1094,801.6,764.7094,797.6,766.3094,799.2,764.7094" style="stroke:#A80036;stroke-width:0.4000000000000001;"/><line style="stroke:#A80036;stroke-width:0.4000000000000001;" x1="741.6" x2="800" y1="764.7094" y2="764.7094"/><text fill="#000000" font-family="sans-serif" font-size="5.2" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="744.4" y="762.7668">44</text><text fill="#000000" font-family="sans-serif" font-size="5.2" lengthAdjust="spacing" textLength="14.4" x="751.6" y="762.7668">create</text><polygon fill="#A80036" points="319.2,775.25,315.2,776.85,319.2,778.45,317.6,776.85" style="stroke:#A80036;stroke-width:0.4000000000000001;"/><line style="stroke:#A80036;stroke-width:0.4000000000000001;" x1="316.8" x2="739.2" y1="776.85" y2="776.85"/><text fill="#000000" font-family="sans-serif" font-size="5.2" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="321.6" y="774.9074">45</text><text fill="#000000" font-family="sans-serif" font-size="5.2" lengthAdjust="spacing" textLength="37.2" x="328.8" y="774.9074">clientRepository</text><polygon fill="#A80036" points="797.6,787.3906,801.6,788.9906,797.6,790.5906,799.2,788.9906" style="stroke:#A80036;stroke-width:0.4000000000000001;"/><line style="stroke:#A80036;stroke-width:0.4000000000000001;" x1="314.8" x2="800" y1="788.9906" y2="788.9906"/><text fill="#000000" font-family="sans-serif" font-size="5.2" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="317.6" y="787.048">46</text><text fill="#000000" font-family="sans-serif" font-size="5.2" lengthAdjust="spacing" textLength="38.8" x="324.8" y="787.048">save(clientOrder)</text><polygon fill="#A80036" points="159.6,799.5313,155.6,801.1313,159.6,802.7313,158,801.1313" style="stroke:#A80036;stroke-width:0.4000000000000001;"/><line style="stroke:#A80036;stroke-width:0.4000000000000001;" x1="157.2" x2="312.4" y1="801.1313" y2="801.1313"/><text fill="#000000" font-family="sans-serif" font-size="5.2" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="162" y="799.1887">47</text><text fill="#000000" font-family="sans-serif" font-size="5.2" lengthAdjust="spacing" textLength="10" x="169.2" y="799.1887">user</text><polygon fill="#A80036" points="32,811.6719,28,813.2719,32,814.8719,30.4,813.2719" style="stroke:#A80036;stroke-width:0.4000000000000001;"/><line style="stroke:#A80036;stroke-width:0.4000000000000001;stroke-dasharray:2.0,2.0;" x1="29.6" x2="152.8" y1="813.2719" y2="813.2719"/><text fill="#000000" font-family="sans-serif" font-size="5.2" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="34.4" y="811.3293">48</text><text fill="#000000" font-family="sans-serif" font-size="5.2" lengthAdjust="spacing" textLength="72.4" x="41.6" y="811.3293">Informa o sucesso da operação</text><!--MD5=[1f92362f2f1c857a4729876bd2c8de48]
@startuml

autonumber
actor "Sales Clerk" as SC
participant RegisterClientOrderUI as UI <<presentation>>
participant RegisterClientOrderController as Controller <<application>>
participant ViewProductCatalogUI as ui <<presentation>>
database ProductRepository as repository <<repository>>
database ClientRepository as rep <<repository>>
participant RegisterClientUI as Ui <<presentation>>
participant "clientOrder:ProductOrder" as Domain <<domain>>
participant "Product" as Domain <<domain>>
participant PersistenceContext as Persistence <<persistence>>
participant RepositoryFactory as Factory <<factory>>
database ProductOrderRepository as Repository <<repository>>

activate SC
SC -> UI : Inicia o processo de registo de compra \n de um determinado Cliente
activate UI
UI -> Controller: create
UI - -> SC : Solicita o método de escolha de produtos\n para a encomenda
deactivate UI
SC -> UI : Informa o método pretendido
activate UI
alt método visualização de produtos
loop enquanto pretender adicionar \n produtos à encomenda
UI -> ui: create
activate  ui
ui -> ui: doShow()
activate ui
deactivate ui
deactivate ui
deactivate  Controller
UI - -> SC : Mostra o catálogo de produtos
deactivate UI
SC -> UI : Escolhe o produto pretendido
activate UI
UI - -> SC : Solicita a quantidade relativa ao produto
deactivate UI
SC -> UI : Informa a quantidade
activate UI
deactivate UI
end
else método inserção do ID do Produto
loop enquanto pretender adicionar \n produtos à encomenda
UI - -> SC : Solicita o id do produto
/' activate ":System"
deactivate ":System" '/
SC -> UI : Insere a informação pretendida
activate UI
UI -> Controller: verifyProductId(productId)
activate Controller
Controller -> repository: ofIdentity(productId)
activate repository
deactivate repository
deactivate Controller
UI - -> SC : Solicita a quantidade relativa ao produto
deactivate UI
SC -> UI : Informa a quantidade
activate UI
end
end
UI - -> SC : Solicita o ID do Cliente
deactivate UI
SC -> UI : Insere a informação pedida
activate UI
UI -> Controller: verifyClientId(clientId)
activate Controller
Controller -> rep: ofIdentity(clientId)
activate rep
deactivate rep
deactivate Controller
alt cliente não estava registado
UI -> Ui: create
activate Ui
Ui -> Ui: doShow()
activate Ui
deactivate Ui
deactivate Ui
end
UI - -> SC : Solicita a morada de faturação
deactivate UI
SC -> UI : Insere a informação pedida
activate UI
UI - -> SC : Solicita a morada de entrega
deactivate UI
SC -> UI : Insere a informação pedida
activate UI
UI - -> SC : Mostra os diferentes métodos de envio
deactivate UI
SC -> UI : Escolhe o método pretendido
activate UI
UI - -> SC : Mostra os diferentes métodos de pagamento
deactivate UI
SC -> UI : Escolhe o método pretendido
activate UI
UI - -> SC : Solicita o meio de interação com o cliente
deactivate UI
SC -> UI : Informa o pretendido
activate UI
UI - -> SC : Solicita a data de quando ocorreu a interação
deactivate UI
SC -> UI : Informa o pretendido
activate UI
alt deseja inserir comentário
UI - -> SC : Solicita comentário adicional
deactivate UI
SC -> UI : Insere a informação pedida
activate UI
end
UI -> Controller: registerOrder(items, clientId, billingAddress, deliveryAddress,\n shipment, payment,sourceChannel, date, comment)
activate Controller
Controller -> Domain: (items, clientId, billingAddress, deliveryAddress,\n shipment, payment,sourceChannel, date, comment, createdOn)
activate Domain
Domain-> Controller: clientOrder
deactivate Domain
Controller -> Persistence: repositories()
activate Persistence
note right of Persistence: pode criar repositório em memória ou JPA
Persistence -> Factory: create
Persistence -> Controller: factory
deactivate Persistence
Controller -> Factory: clientOrders()
activate Factory
Factory -> Repository: create
Factory -> Controller: clientRepository
deactivate Factory
Controller->Repository:save(clientOrder)
Controller->UI: user
deactivate Controller
UI - -> SC : Informa o sucesso da operação
deactivate UI
deactivate SC



@enduml

@startuml

autonumber
actor "Sales Clerk" as SC
participant RegisterClientOrderUI as UI <<presentation>>
participant RegisterClientOrderController as Controller <<application>>
participant ViewProductCatalogUI as ui <<presentation>>
database ProductRepository as repository <<repository>>
database ClientRepository as rep <<repository>>
participant RegisterClientUI as Ui <<presentation>>
participant "clientOrder:ProductOrder" as Domain <<domain>>
participant "Product" as Domain <<domain>>
participant PersistenceContext as Persistence <<persistence>>
participant RepositoryFactory as Factory <<factory>>
database ProductOrderRepository as Repository <<repository>>

activate SC
SC -> UI : Inicia o processo de registo de compra \n de um determinado Cliente
activate UI
UI -> Controller: create
UI - -> SC : Solicita o método de escolha de produtos\n para a encomenda
deactivate UI
SC -> UI : Informa o método pretendido
activate UI
alt método visualização de produtos
loop enquanto pretender adicionar \n produtos à encomenda
UI -> ui: create
activate  ui
ui -> ui: doShow()
activate ui
deactivate ui
deactivate ui
deactivate  Controller
UI - -> SC : Mostra o catálogo de produtos
deactivate UI
SC -> UI : Escolhe o produto pretendido
activate UI
UI - -> SC : Solicita a quantidade relativa ao produto
deactivate UI
SC -> UI : Informa a quantidade
activate UI
deactivate UI
end
else método inserção do ID do Produto
loop enquanto pretender adicionar \n produtos à encomenda
UI - -> SC : Solicita o id do produto
SC -> UI : Insere a informação pretendida
activate UI
UI -> Controller: verifyProductId(productId)
activate Controller
Controller -> repository: ofIdentity(productId)
activate repository
deactivate repository
deactivate Controller
UI - -> SC : Solicita a quantidade relativa ao produto
deactivate UI
SC -> UI : Informa a quantidade
activate UI
end
end
UI - -> SC : Solicita o ID do Cliente
deactivate UI
SC -> UI : Insere a informação pedida
activate UI
UI -> Controller: verifyClientId(clientId)
activate Controller
Controller -> rep: ofIdentity(clientId)
activate rep
deactivate rep
deactivate Controller
alt cliente não estava registado
UI -> Ui: create
activate Ui
Ui -> Ui: doShow()
activate Ui
deactivate Ui
deactivate Ui
end
UI - -> SC : Solicita a morada de faturação
deactivate UI
SC -> UI : Insere a informação pedida
activate UI
UI - -> SC : Solicita a morada de entrega
deactivate UI
SC -> UI : Insere a informação pedida
activate UI
UI - -> SC : Mostra os diferentes métodos de envio
deactivate UI
SC -> UI : Escolhe o método pretendido
activate UI
UI - -> SC : Mostra os diferentes métodos de pagamento
deactivate UI
SC -> UI : Escolhe o método pretendido
activate UI
UI - -> SC : Solicita o meio de interação com o cliente
deactivate UI
SC -> UI : Informa o pretendido
activate UI
UI - -> SC : Solicita a data de quando ocorreu a interação
deactivate UI
SC -> UI : Informa o pretendido
activate UI
alt deseja inserir comentário
UI - -> SC : Solicita comentário adicional
deactivate UI
SC -> UI : Insere a informação pedida
activate UI
end
UI -> Controller: registerOrder(items, clientId, billingAddress, deliveryAddress,\n shipment, payment,sourceChannel, date, comment)
activate Controller
Controller -> Domain: (items, clientId, billingAddress, deliveryAddress,\n shipment, payment,sourceChannel, date, comment, createdOn)
activate Domain
Domain-> Controller: clientOrder
deactivate Domain
Controller -> Persistence: repositories()
activate Persistence
note right of Persistence: pode criar repositório em memória ou JPA
Persistence -> Factory: create
Persistence -> Controller: factory
deactivate Persistence
Controller -> Factory: clientOrders()
activate Factory
Factory -> Repository: create
Factory -> Controller: clientRepository
deactivate Factory
Controller->Repository:save(clientOrder)
Controller->UI: user
deactivate Controller
UI - -> SC : Informa o sucesso da operação
deactivate UI
deactivate SC



@enduml

PlantUML version 1.2022.1(Tue Feb 01 18:19:58 GMT 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: Dynamic Code Evolution 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>